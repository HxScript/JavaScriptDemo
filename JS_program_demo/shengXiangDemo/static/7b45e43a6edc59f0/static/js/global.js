webpackJsonp([4,23],{115:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(86),i=n.n(r),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();window.jQuery=window.jQuery||i.a,window.$=window.$||i.a;var u=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.warn,r=n===undefined?!0:n,i=t.needError,s=i===undefined?!1:i,u=t.tipFn;o(this,e),this.protocol=location.protocol,this.host=location.host,this.prefix=this.protocol+"//"+this.host,this.warn=r,this.needError=s,this.tipFn=u}return s(e,[{key:"GET",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=Object.assign({url:this.prefix+t,type:"GET",data:n,timeout:2e4,_t:Date.now()},r);return $.ajax(i).then(this.done,this.fail)}},{key:"POST",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},s=Object.assign({url:this.prefix+t,type:"POST",data:r,timeout:2e4},i);return $.ajax(s).then(function(){return n.done.apply(n,arguments)},function(){return n.fail.apply(n,arguments)})}},{key:"FORMDATA",value:function(t,n){var r=this,i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},s=Object.assign({url:this.prefix+t,type:"POST",contentType:!1,data:n,processData:!1},i);return $.ajax(s).then(function(){return r.done.apply(r,arguments)},function(){return r.fail.apply(r,arguments)})}},{key:"done",value:function(t,n,r){var i=this;return new Promise(function(e,n){return t.errno!==0?(i.warn&&(console.warn(t),t.errmsg&&i.tipFn&&i.tipFn(t.errmsg)),n(t)):e(t.data)})}},{key:"fail",value:function(t,n,r){var i=this;return new Promise(function(e,t){throw console.error(n,r),i.tipFn&&i.tipFn(r||"网络故障～～"),new Error(r||"网络故障~~")})}}]),e}();t["default"]=u},119:function(e,t,n){"use strict";function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){var t=new Image;t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",t.onload=t.onerror=function(){e(t.height===2)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(120),s=n(69),o=n(54),u=n(13),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r.inBrowser&&Boolean(navigator.serviceWorker&&navigator.serviceWorker.controller)&&parseInt(s["default"].version,10)===1515657645319,c=r.inBrowser&&(window.performance||window.webkitPerformance||window.msPerformance),p=function(){function e(){var t=this;f(this,e);if(!r.inBrowser)return;this.requiredUserTimings=["headTime","tti"],this.times={path:o.path,sw:+l},window.addEventListener("load",function(){setTimeout(function(){t.isCompleteUserTiming()?t.sendPerformance():u["default"].$once("complete-user-timing",function(){t.sendPerformance()})})})}return a(e,[{key:"isCompleteUserTiming",value:function(){var t=!0,n=!0,r=!1,i=undefined;try{for(var s=this.requiredUserTimings[Symbol.iterator](),o;!(n=(o=s.next()).done);n=!0){var u=o.value;this.hasUserTiming(u)||(t=!1)}}catch(a){r=!0,i=a}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return t}},{key:"hasUserTiming",value:function(t){return window.USER_TIMING&&window.USER_TIMING.hasOwnProperty(t)}},{key:"add",value:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"navigationStart";if(!c||!c.timing)return;var r=c.timing[n],i=c.now?c.now()-(r-c.timing.navigationStart):Date.now()-r;window.USER_TIMING=window.USER_TIMING||{},window.USER_TIMING[t]=i,this.isCompleteUserTiming()&&u["default"].$emit("complete-user-timing")}},{key:"get",value:function(t){return window.USER_TIMING=window.USER_TIMING||{},window.USER_TIMING[t]}},{key:"sendPerformance",value:function(){var t=this;Object.assign(this.times,this.getBrowserTiming()),h(function(e){var n=s["default"].tourRoute;t.times.visited=+(n[t.times.path]===1515657645319),n[t.times.path]=1515657645319,s["default"].tourRoute=n,t.times.webp=+l&&e,i.monitor.performance(t.times)})}},{key:"getBrowserTiming",value:function(){if(!c||!c.timing||!window.USER_TIMING){console.warn("你的浏览器不支持 performance 接口");return}var t=c.timing,n=t.redirectEnd,r=t.redirectStart,i=t.navigationStart,s=t.fetchStart,o=t.domainLookupStart,u=t.domainLookupEnd,a=t.connectStart,f=t.connectEnd,l=t.requestStart,h=t.responseStart,p=t.responseEnd,d=t.domLoading,v=t.domInteractive,m=t.domContentLoadedEventStart,g=t.domContentLoadedEventEnd,y=t.domComplete,b=t.loadEventStart,w=t.loadEventEnd,E={};E.user={headTime:this.get("headTime"),tti:this.get("tti"),finishDomParse:v-i};var S=h-i;return E.frontEnd={headTime:this.get("headTime")-S,tti:this.get("tti")?this.get("tti")-S:undefined,finishDomParse:v-h,domContentLoadedCallback:g-m,loadCallback:w-b},E.backEnd={ttfb:h-i,redirect:n-r,appcache:o-s,dns:u-o,tcp:f-a,request:h-l,response:p-h},{timings:JSON.stringify(E)}}}]),e}(),d=new p;t["default"]=d},120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);n.d(t,"monitor",function(){return o});var i={};if(r.inBrowser){var s=n(115).default;i=new s({warn:!1})}var o={performance:function(t){return navigator.onLine?i.POST("/api/monitor/performance",t):Promise.reject("offline")},subscribe:function(t,n,r){return i.POST("/api/monitor/subscribe",{endpoint:t,p256dh:n,auth:r})},unsubscribe:function(t){return i.POST("/api/monitor/unsubscribe",{endpoint:t})},push:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.title,r=t.icon,s=t.body,o=t.image;return i.POST("/adminapi/performance/notification",{title:n,icon:r,body:s,image:o})}}},1232:function(e,t){},1272:function(e,t){},1273:function(e,t){},1286:function(e,t){},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=n.n(r);t["default"]=new i.a},132:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length);for(var s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}Object.defineProperty(t,"__esModule",{value:!0});var r=n(69),i=n(5),s=n(120),o=n(54),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f="BA6dKqeB_OU3ISMd2yCrAckT8EDqQnfniin70KtA6Mi0hnulvc4wMmU3ulbymmSFfSarjPK-JI2Ongs2hy2dB8Y",l=function(){function e(){var t=this;a(this,e),this.hasSW=i.inBrowser&&"serviceWorker"in navigator&&!0;if(i.inBrowser){var r=navigator.userAgent.match(/chrome\/([\d]+)/i);if(r){var s=parseInt(r[1]);s<46&&(this.hasSW=!1)}}this.hasSW&&n(383),this.hasBackgroundSync=this.hasSW&&"SyncManager"in window,this.swReady=!1,this.hasSW&&(this.device=i.inPC?"pc":"mobile",this.mode=o.isLogin?"login":"base",this.setListener(),navigator.serviceWorker.ready.then(function(){t.swReady=!0}))}return u(e,[{key:"backgroundSyncAble",value:function(){return i.inBrowser&&this.hasSW&&this.swReady&&this.hasBackgroundSync}},{key:"notificationAble",value:function(){return i.inBrowser&&"Notification"in window&&Notification.permission!=="denied"}},{key:"ready",value:function(){var t=this;navigator.serviceWorker.ready.then(function(e){t.registration=e,t.registration.pushManager&&(location.search.match(/^\?push=1$/)?t.subscribe():location.search.match(/^\?push=0$/)&&t.unsubscribe())})}},{key:"register",value:function(){var t=this;if(this.hasSW){this.ready();var n="/editor-sw-1515657645319.js";navigator.serviceWorker.register(n).then(function(e){r["default"].version=1515657645319,t.registration=e}).catch(function(e){console.error("ServiceWorker registration failed: ",e)})}}},{key:"subscribe",value:function(){var t=c(f),n=this.registration.pushManager;n.getSubscription().then(function(e){if(e)return;n.subscribe({userVisibleOnly:!0,applicationServerKey:t}).then(function(e){if(e){var t=btoa(String.fromCharCode.apply(null,new Uint8Array(e.getKey("p256dh")))),n=btoa(String.fromCharCode.apply(null,new Uint8Array(e.getKey("auth"))));s.monitor.subscribe(e.endpoint,t,n)}}).catch(function(e){console.error(e)})})}},{key:"unsubscribe",value:function(){this.registration.pushManager.getSubscription().then(function(e){e&&function(){var t=e.endpoint;e.unsubscribe().then(function(){s.monitor.unsubscribe(t)})}()}).catch(function(e){console.error(e)})}},{key:"updateAsserts",value:function(t){t.postMessage({device:this.device,mode:this.mode,version:1515657645319})}},{key:"setListener",value:function(){var t=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data==="updateAsserts")t.updateAsserts(e.ports[0]);else if(e.data.match(/^error-/)){var n=JSON.parse(e.data.replace("error-","")),r=n.message,i=n.reason,s=n.fileName,o=n.lineNumber;throw i?new Error(i):new Error(r,s,o)}})}},{key:"sendMessageToSw",value:function(t){return new Promise(function(e,n){var r=new MessageChannel;r.port1.onmessage=function(t){t.data.error?n(t.data.error):e(t.data)},navigator.serviceWorker.controller.postMessage(t,[r.port2])})}},{key:"sync",value:function(t,r){var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:n.i(i.uuid)(),o=arguments[3];return this.backgroundSyncAble()?this.sendMessageToSw({type:"sync",url:t,options:r,id:s,notice:o}):Promise.reject("no-backgroundSync")}},{key:"POST",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.path,s=t.param,o=s===undefined?{}:s,u=t.option,a=u===undefined?{}:u,f=t.id,l=t.notice,c=Object.assign({method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:n.i(i.isString)(o)?o:JSON.stringify(o)},a);return this.sync(r,c,f,l)}},{key:"notify",value:function(t,n,r){}},{key:"requestNotificationPermission",value:function(t){if(Notification.permission==="granted")return Promise.resolve();var n=document.createElement("div");return n.classList.add("pwa-tips"),n.innerHTML="<span>"+t+"</span>",document.body.appendChild(n),Notification.requestPermission(function(e){document.body.removeChild(n)})}}]),e}();t["default"]=new l},1390:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("div",{staticClass:"InfoCard",on:{click:e.jumpToDisplay}},[e.tagContent?t("div",{staticClass:"InfoCard-tag","class":[e.tagBgColor]},[t("span",{staticClass:"InfoCard-tagText"},[e._s(e.tagContent)])]):e._e()," ",t("img",{staticClass:"InfoCard-pic",attrs:{src:e.slide.slide_image||"https://p0.ssl.qhimg.com/t01c23faec393c18c16.png",alt:""}})," ",t("div",{staticClass:"InfoCard-info"},[t("h3",{staticClass:"InfoCard-title"},[e._s(e.slide.slide_title)])," ",t("div",[t("span",{staticClass:"InfoCard-detail",attrs:{title:"最近一次更新时间"}},[t("i",{staticClass:"icon-clock"})," ",t("span",[e._s(e.slide.created_at)])])," ",t("span",{staticClass:"InfoCard-detail"},[t("i",{staticClass:"icon-eye"})," ",t("span",[e._s(e.slide.slide_view_count)])])," ",t("span",{staticClass:"InfoCard-detail InfoCard-detail--right","class":{"is-hidden":e.slide.slide_permission===e.slidePermissionType.PUBLIC,"InfoCard-detail--selfVisible":e.slide.slide_permission===e.slidePermissionType.SELF_VISIBLE,"InfoCard-detail--needCode":e.slide.slide_permission===e.slidePermissionType.NEED_CODE},attrs:{"data-balloon":e.permissionHint,"data-balloon-pos":"up"}},[t("i",{staticClass:"icon-lock"})])])," ",e._t("control")])])},staticRenderFns:[]},e.exports.render._withStripped=!0},1393:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("vue-dialog",{ref:"dialog"},[t("div",{staticClass:"ResourceShare"},[t("div",{staticClass:"ResourceShare-header"},[t("h3",["分享",t("span",["“幻灯片”"])])," ",t("button",{staticClass:"Button Button--secondary",on:{click:e.close}},["关闭"])])," ",t("div",{staticClass:"ResourceShare-body"},[t("div",{staticClass:"ResourceShare-optionTabs"},[e.isPublic?t("div",{"class":{"is-selected":e.tab==="link"},on:{click:function(t){e.toggleTab("link")}}},["分享链接"]):e._e()," ",e.isPublic?t("div",{"class":{"is-selected":e.tab==="iframe"},on:{click:function(t){e.toggleTab("iframe")}}},["嵌入到网页"]):e._e()])," ",t("div",{staticClass:"ResourceShare-optionContent"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab==="link",expression:"tab === 'link'"}],staticClass:"Link"},[t("h4",["链接地址"])," ",t("input",{directives:[{name:"model",rawName:"v-model",value:e.shareLink,expression:"shareLink"}],ref:"linkContent",attrs:{id:"linkContent",type:"text",readonly:"readonly"},domProps:{value:e._s(e.shareLink)},on:{click:e.selectText,input:function(t){if(t.target.composing)return;e.shareLink=t.target.value}}})," ",e.isPublic?e._e():t("h4",["提取密码"])," ",e.isPublic?e._e():t("input",{directives:[{name:"model",rawName:"v-model",value:e.shareCode,expression:"shareCode"}],attrs:{type:"text",readonly:"readonly"},domProps:{value:e._s(e.shareCode)},on:{click:e.selectText,input:function(t){if(t.target.composing)return;e.shareCode=t.target.value}}})," ",t("button",{staticClass:"Button Button--secondary copyBtn Link-copyBtn","class":{isCopied:e.isCopied},attrs:{"data-clipboard-action":"copy","data-clipboard-text":e.shareContent}},[e._s(e.copyBtnText)])])," ",t("div",{directives:[{name:"show",rawName:"v-show",value:e.tab==="iframe",expression:"tab === 'iframe'"}],staticClass:"Iframe"},[t("div",{staticClass:"Iframe-option"},[t("h4",["宽度"])," ",t("input",{directives:[{name:"model",rawName:"v-model",value:e.iframeConfig.width,expression:"iframeConfig.width"}],attrs:{type:"text",name:"ctrl-width"},domProps:{value:e._s(e.iframeConfig.width)},on:{input:function(t){if(t.target.composing)return;e.iframeConfig.width=t.target.value}}})])," ",t("div",{staticClass:"Iframe-option"},[t("h4",["高度"])," ",t("input",{directives:[{name:"model",rawName:"v-model",value:e.iframeConfig.height,expression:"iframeConfig.height"}],attrs:{type:"text",name:"ctrl-width"},domProps:{value:e._s(e.iframeConfig.height)},on:{input:function(t){if(t.target.composing)return;e.iframeConfig.height=t.target.value}}})])," ",t("div",{staticClass:"Iframe-option"},[t("h4",["底部样式"])," ",t("select",{directives:[{name:"model",rawName:"v-model",value:e.iframeConfig.bottomStyle,expression:"iframeConfig.bottomStyle"}],on:{change:function(t){e.iframeConfig.bottomStyle=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]}}},[t("option",{attrs:{value:"light"}},["浅色"])," ",t("option",{attrs:{value:"dark"}},["深色"])])])," ",t("div",{staticClass:"Iframe-link"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.shareIframe,expression:"shareIframe"}],ref:"iframeContent",staticClass:"ResourceShare-optionPages-iframeLink-textarea",attrs:{id:"iframeContent",readonly:"readonly"},domProps:{value:e._s(e.shareIframe)},on:{click:e.selectText,input:function(t){if(t.target.composing)return;e.shareIframe=t.target.value}}})," ",t("button",{staticClass:"Button Button--secondary copyBtn","class":{isCopied:e.isCopied},attrs:{"data-clipboard-action":"copy","data-clipboard-target":"#iframeContent"}},[e._s(e.copyBtnText)])])])])])])])},staticRenderFns:[]},e.exports.render._withStripped=!0},1441:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("vue-dialog",{ref:"dialog",staticClass:"Dialog CropDialog",attrs:{"mask-close":!1}},[t("div",{staticClass:"Dialog-inner CropDialog-inner","class":{"CropDialog-inner--noPreview":!this.cropHeight||!this.cropWidth}},[t("h3",["请选取图片区域"])," ",t("div",{staticClass:"CropImage"},[t("img",{ref:"cropImageHolder",staticClass:"CropImage-image",style:{width:this.cropImage.preWidth+"px",height:this.cropImage.preHeight+"px"},attrs:{alt:"",src:e.cropImage.src}})," ",this.cropHeight&&this.cropWidth?t("div",{staticClass:"CropImage-preview"},[t("div",{staticClass:"CropImage-preview--cube",style:{height:100/(this.cropWidth/this.cropHeight)+"px"}},[t("img",{attrs:{alt:"",src:e.cropImage.src}})])," ",t("div",{directives:[{name:"show",rawName:"v-show",value:e.cropWidth/e.cropHeight===1,expression:"cropWidth/cropHeight  === 1"}],staticClass:"CropImage-preview--round"},[t("img",{attrs:{alt:"",src:e.cropImage.src}})])]):e._e()])," ",t("div",{staticClass:"CropCtrl"},[t("div",{staticClass:"CropCtrl-btn"},[t("button",{staticClass:"Button Button--accent CropCtrl-btn--confirm","class":{"is-success":e.uploadSuccess,"is-loading":e.isLoading},attrs:{type:"button"},on:{click:e.confirm}},[e.uploadSuccess?t("span",[t("i",{staticClass:"icon-ok-2"})]):e._e(),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.uploadSuccess&&!e.isLoading,expression:"!uploadSuccess && !isLoading"}]},["确认"])])," ",t("button",{staticClass:"Button Button--secondary Button--outline CropCtrl-btn--cancel",attrs:{type:"button"},on:{click:e.cancel}},["取消"])])," ",t("div",{staticClass:"CropCtrl-loader"},[t("div",{staticClass:"CropLoader","class":{"is-hidden":!e.isLoading}},[t("div",{staticClass:"CropLoader-dot"})," ",t("div",{staticClass:"CropLoader-dot"})," ",t("div",{staticClass:"CropLoader-dot"})])," ",t("div",{staticClass:"CropLoader-hint","class":{"is-hidden":e.isLoading}},[e.uploadFail?t("span",{staticClass:"is-fail"},[t("i",{staticClass:"icon-attention-circled"}),"上传失败，请重试！"]):e._e()])])])])])},staticRenderFns:[]},e.exports.render._withStripped=!0},165:function(e,t,n){"use strict";function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(5),i=n(75),s=n(178),o=n(54),u=n(69),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();r.inBrowser&&(n(95),n(617));var l=function(){function e(t){f(this,e),r.inBrowser&&this.init()}return a(e,[{key:"init",value:function(){this.remoteReady=!1,this.userCheck=!1,this.remoteTasks=[],this.myUser={},this.source={config:"remote",info:"remote",noLogin:!1,noSave:!1},this.asyncUser(),this.asyncSlide()}},{key:"getLocalSlide",value:function(){var t=void 0;if(!o.slide_id||!this.myUser.user_name){t=u["default"].getSlide("noLogin","noLogin");if(n.i(r.isEmpty)(t)){if(!this.myUser.user_name)return;t=u["default"].getSlide("noSave",this.myUser.user_name),this.source.noSave=!0}this.source.noLogin=!this.source.noSave}else t=u["default"].getSlide(o.slide_id,this.myUser.user_name);this.localSlide=t.slide_config,delete t.slide_config,this.localSlideInfo=t}},{key:"asyncSlide",value:function(){var t=this;o.slide_id?i.slide.detail(o.slide_id).then(function(e){var i=e.slide_config;delete e.slide_config,t.remoteSlideInfo=e,n.i(r.isString)(i)&&(i=JSON.parse(i)),t.remoteSlide=i,t.remoteReady=!0,t.run()},function(e){t.remoteReady=!0,t.run()}):(this.remoteReady=!0,this.run())}},{key:"asyncUser",value:function(){var t=this;s.user.detail().then(function(e){t.myUser=e,t.getLocalSlide(),t.userCheck=!0,t.run()},function(e){t.getLocalSlide(),t.userCheck=!0,t.run()})}},{key:"awaitReturn",value:function(t){var n=this;return new Promise(function(e,r){n.remoteReady&&n.userCheck?t(e,r):n.remoteTasks.push(function(){return t(e,r)})})}},{key:"run",value:function(){this.remoteReady&&this.userCheck&&this.remoteTasks.forEach(function(e){return e()})}},{key:"getLatestSlide",value:function(){var t=this;return this.awaitReturn(function(e,i){!n.i(r.isEmpty)(t.localSlide)&&!n.i(r.isEmpty)(t.remoteSlide)&&(t.localSlide._v>t.remoteSlide._v||t.localSlide._v===t.remoteSlide._v&&t.localSlide._t>t.remoteSlide._t)?(t.source.config="local",e(t.localSlide)):n.i(r.isEmpty)(t.remoteSlide)?n.i(r.isEmpty)(t.localSlide)?o.slide_id?location.href="/editor":e():(t.source.config="local",e(t.localSlide)):e(t.remoteSlide)})}},{key:"getSlideInfo",value:function(){var t=this;return this.awaitReturn(function(e,i){var s={};!n.i(r.isEmpty)(t.remoteSlideInfo)&&!n.i(r.isEmpty)(t.localSlideInfo)?t.remoteSlideInfo.slide_info_version<t.localSlideInfo.slide_info_version?(s=t.localSlideInfo,t.source.info="local"):s=t.remoteSlideInfo:n.i(r.isEmpty)(t.remoteSlideInfo)?n.i(r.isEmpty)(t.localSlideInfo)||(s=t.localSlideInfo):s=t.remoteSlideInfo,s.user_name=t.myUser.user_name||"noLogin",e(s)})}},{key:"getRemoteSlide",value:function(){var t=this;return this.userCheck=!0,this.awaitReturn(function(e,n){return e(t.remoteSlide)})}}]),e}();t.a=new l},177:function(e,t,n){n(410);var r=n(11)("main",n(400),n(423),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/vue-dialog/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);n.d(t,"user",function(){return o});var i={};if(r.inBrowser){var s=n(115).default;i=new s({warn:!1})}var o={detail:function(){return window.SD.myself?Promise.resolve(window.SD.myself):i.GET("/api/user/detail")},checkunique:function(t,n){return i.GET("/api/user/checkunique",{field:t,value:n})},update:function(t){return i.POST("/api/user/update",t)},publicInfo:function(t){return r.inBrowser&&window.SD.author&&(window.SD.author.user_name===t||!t)?Promise.resolve(window.SD.author):(t=t||r.inBrowser&&window.SD.myself&&window.SD.myself.user_name,i.GET("/api/user/publicinfo",{user_name:t}))},importPPT:function(t){return i.FORMDATA("/api/slide/importppt",t)},hasImportingPPT:function(){return i.GET("/api/slide/hasimporting")}}},179:function(e,t,n){"use strict";var r=n(28),i=n.n(r),s=n(435),o=n(501),u=n.n(o),a=n(509),f=n.n(a),l=n(507),c=n.n(l),h=n(503),p=n.n(h),d=n(511),v=n.n(d),m=n(505),g=n.n(m),y=n(508),b=n.n(y),w=n(502),E=n.n(w),S=n(506),x=n.n(S),T=n(504),N=n.n(T),C=n(510),k=n.n(C);i.a.use(s.a),i.a.component("plugin-base",u.a),i.a.component("plugin-slide",f.a),i.a.component("plugin-page",c.a),i.a.component("plugin-group",p.a),i.a.component("plugin-text",v.a),i.a.component("plugin-image",g.a),i.a.component("plugin-shape",b.a),i.a.component("plugin-code",E.a),i.a.component("plugin-line",x.a),i.a.component("plugin-iframe",N.a),i.a.component("plugin-table",k.a)},397:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__util__=__webpack_require__(5);Array.prototype.fill||(Array.prototype.fill=function(e){if(this==null)throw new TypeError("this is null or not defined");var t=Object(this),n=t.length>>>0,r=arguments[1],i=r>>0,s=i<0?Math.max(n+i,0):Math.min(i,n),o=arguments[2],u=o===undefined?n:o>>0,a=u<0?Math.max(n+u,0):Math.min(u,n);while(s<a)t[s]=e,s++;return t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(this==null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof t!="function")throw new TypeError("predicate must be a function");var n=Object(this),r=n.length>>>0,i=arguments[1];for(var s=0;s!==r;s++)if(t.call(i,this[s],s,n))return this[s];return undefined}}),Array.prototype.findIndex=Array.prototype.findIndex||function(evaluator,thisArg){if(!this)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof evaluator!="function"){if(typeof evaluator!="string")throw new TypeError;if(!(evaluator=eval(evaluator)))throw new TypeError}var i;if(thisArg===undefined){for(i in this)if(evaluator(this[i],i,this))return i;return-1}for(i in this)if(evaluator.call(thisArg,this[i],i,this))return i;return-1},__WEBPACK_IMPORTED_MODULE_0__util__.inBrowser&&!HTMLElement.prototype.isSameNode&&(HTMLElement.prototype.isSameNode=function(e){return this===e})},398:function(e,t,n){"use strict";var r=n(5),i=n(54),s={baidu:function(){window._hmt=window._htm||[],window._hmt.push(["_setCustomVar",1,"login",i.isLogin,2]),window._hmt.push(["_setCustomVar",1,"page",location.pathname,2]);var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?346fc73ed7839c5cf6a7841e0f9bdc15",document.body.appendChild(t)}};r.inBrowser&&!0&&window.addEventListener("load",function(){for(var e in s)s[e]()})},399:function(e,t){},400:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function u(e){if(e.target.tagName.toUpperCase()==="INPUT"||e.target.tagName.toUpperCase()==="TEXTAREA")return;e.preventDefault()}function a(e){if(e.target.tagName.toUpperCase()==="INPUT"||e.target.tagName.toUpperCase()==="TEXTAREA")return;var t={37:1,38:1,39:1,40:1};if(t[e.keyCode])return u(e),!1}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(13),s=o(i);t.default={props:{title:String,msg:String,mode:{type:String,"default":"confirm"},posRelativeTo:{"default":null},pos:{type:String,"default":"center"},callback:{type:Function,"default":null},maskStyles:{type:Object},maskClose:{type:Boolean,"default":!0},arrow:{type:[Boolean,String],"default":!0},topBias:{type:Number,"default":0},leftBias:{type:Number,"default":0},mask:{type:Boolean,"default":!0},noCenter:{type:Boolean,"default":!1},noTransition:{type:Boolean,"default":!1},autoclose:{type:Boolean,"default":!0},bodyStyle:{type:Object,"default":function(){}}},data:function(){return{show:!1}},created:function(){r.inBrowser&&(window.addEventListener("resize",this._adjustPos),window.addEventListener("click",this._clickSpy,!0))},mounted:function(){(0,r.isEmpty)(this.$slots)&&(s.default.$on("press-escape-button",this._escape),s.default.$on("press-enter-button",this._enter))},beforeDestroy:function(){window.removeEventListener("resize",this._adjustPos),window.removeEventListener("click",this._clickSpy,!0),(0,r.isEmpty)(this.$slots)&&(s.default.$off("press-escape-button",this._escape),s.default.$off("press-enter-button",this._enter))},methods:{cancel:function(){this.close(),this.callback&&this.callback(!1)},confirm:function(){if(!this.show)return;this.close(),this.callback&&this.callback(!0)},close:function(){this.show=!1,this._enableScroll()},open:function(){this.show&&this.close(),document.body.appendChild(this.$el),this.show=!0,this._adjustPos(),this._disableScroll()},_clickSpy:function(t){this.autoclose&&!this.mask&&this.show&&!(0,r.isPosterityNode)(this.$refs.outer,t.target)&&this.close()},_adjustPos:function(){if(this.posRelativeTo&&this.pos!=="center"){var t=this.posRelativeTo.getBoundingClientRect(),n=this.$el.querySelector(".Dialog-body"),i=void 0,s=void 0;this.pos==="left"&&(i=t.top+t.height/2+this.topBias,s=t.left-15+this.leftBias),this.pos==="right"&&(i=t.top+t.height/2+this.topBias,s=t.right+15+this.leftBias),this.pos==="top"&&(i=t.top-15+this.topBias,s=t.left+t.width/2+this.leftBias),this.pos==="bottom"&&(i=t.bottom+15+this.topBias,s=t.left+t.width/2+this.leftBias),this.pos==="tl"&&(i=t.top-15+this.topBias,s=t.left+t.width/2+this.leftBias);try{if(!(0,r.isEmpty)(this.$slots)&&this.$slots.default){var o=this.$slots.default[0].elm,u=o.offsetHeight*(this.pos.match(/^b/)?1:this.pos.match(/^t/)?0:.5),a=o.offsetWidth*(this.pos.match(/^(t|b)/)?.5:this.pos.match(/^r/)?1:0);i=Math.min(i,window.innerHeight-u),s=Math.min(s,window.innerWidth-a)}}catch(f){console.error(f)}n.style.top=(i||0)+"px",n.style.left=(s||0)+"px"}else{var l=this.$el.querySelector(".Dialog-body");l.style.top="",l.style.left=""}},_disableScroll:function(){window.addEventListener("wheel",u),window.addEventListener("mousewheel",u),window.addEventListener("touchmove",u),window.addEventListener("keydown",a)},_enableScroll:function(){window.removeEventListener("wheel",u),window.removeEventListener("mousewheel",u),window.removeEventListener("touchmove",u),window.removeEventListener("keydown",a)},_escape:function(t){this.show&&(0,r.isEmpty)(this.$slots)&&(this.mode==="confirm"?this.cancel():this.mode==="alert"&&this.confirm())},_enter:function(){this.show&&(0,r.isEmpty)(this.$slots)&&(this.mode==="confirm"||this.mode==="alert")&&this.confirm()}}}},401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);n.d(t,"share",function(){return o});var i={};if(r.inBrowser){var s=n(115).default;i=new s({warn:!1})}var o={add:function(t){return i.POST("/api/share/add",{slide_id:t})},getcode:function(t){return i.GET("/api/share/getcode",{slide_id:t})},permissionvalidate:function(t){var n=t.slide_id,r=t.share_code;return i.POST("/api/share/permissionvalidate",{slide_id:n,share_code:r})}}},410:function(e,t){},423:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("div",{ref:"outer",staticClass:"Dialog","class":{"Dialog--hide":!e.show,"Dialog--nomask":!e.mask,"Dialog--notransition":e.noTransition}},[e.mask?t("div",{staticClass:"Dialog-mask",style:e.maskStyles,on:{click:function(t){e.maskClose?e.cancel():function(){}}}}):e._e()," ",t("div",{staticClass:"Dialog-body","class":{"Dialog-body--no-center":e.noCenter},style:e.bodyStyle,attrs:{"data-pos":e.pos,arrow:e.arrow}},[e._t("default",[t("div",{staticClass:"Dialog-inner u-text-center"},[t("h3",{staticClass:"Dialog-title"},[e._s(e.msg)])," ",t("div",[t("button",{directives:[{name:"show",rawName:"v-show",value:e.mode!="alert",expression:"mode != 'alert'"}],staticClass:"Button Button--secondary Button--outline",on:{click:function(t){e.cancel()}}},["取消"])," ",t("button",{staticClass:"Button Button--accent",on:{click:function(t){e.confirm()}}},["确定"])])])])])])},staticRenderFns:[]},e.exports.render._withStripped=!0},425:function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function u(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(443),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){function t(){return s(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return u(t,e),i(t,[{key:"spyLinks",value:function(){var t=this,n=document.querySelectorAll("a");Array.from(n).forEach(function(e){return e.addEventListener("click",function(e){var n=(e.currentTarget.href||"").replace(/^https?:\/\/[^\/]*/,"");if(!n)return;t.toward(n.slice(1)||"index",e.currentTarget.parentNode.className||"点击")},!0)});var r=document.querySelector(".DisplayInfo-share--wechat");r&&r.addEventListener("mouseenter",function(e){t.track({action:"微信分享"})})}},{key:"startAutoPlay",value:function(){this.track({action:"开始自动播放"})}},{key:"stopAutoPlay",value:function(){this.track({action:"终止自动播放"})}},{key:"read",value:function(t){this.track({action:"阅读"+t,label:location.href})}}]),t}(r["default"]),f=new a;t["default"]=f},426:function(e,t,n){n(1273);var r=n(11)("main",n(958),n(1393),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/view/editor/index_index/resource/resource-share/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},427:function(e,t,n){var r=n(11)("main",n(541),n(664),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/view/slide/index_display/slide-countdown/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},428:function(e,t,n){var r=n(11)("main",n(542),n(666),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/view/slide/index_display/slide-player/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},429:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"slidePermissionType",function(){return r});var r={PUBLIC:0,SELF_VISIBLE:1,NEED_CODE:2}},433:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIzODExIDI4MDMuMSA0NDAuNSAxNjUuOCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAzODExIDI4MDMuMSA0NDAuNSAxNjUuODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7fQoJLnN0MXtmaWxsOiMzN0NDOEU7fQoJLnN0MntvcGFjaXR5OjAuNTtmaWxsOiMzN0NDOEU7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDt9Cgkuc3Qze29wYWNpdHk6MC44O2ZpbGw6IzM3Q0M4RTtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwNTAuNywyOTEzLjdoNTAuNWMxMywwLjMsMTguNS00LjgsMTguMS0xNS4zdi0yNy41aC04MS42djQyLjhjMC44LDkuNi0yLjcsMTguMy0xMi44LDIzLjF2Ni4yCglDNDA0My40LDI5MzYuOSw0MDUxLjUsMjkyNi40LDQwNTAuNywyOTEzLjdMNDA1MC43LDI5MTMuN3ogTTQwNzIuNywyODc4djI4LjVoLTIyVjI4NzhINDA3Mi43eiBNNDEwNi40LDI5MDAuNAoJYzAuNCw0LjQtMC40LDYuMS02LjUsNi4xaC0xNS41VjI4NzhoMjJWMjkwMC40eiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDA3Mi43LDI4NDYuNnYxMC4yaC0zNXY3LjFoODEuNnYtNy4xaC0zNXYtMTAuMmg0Ny45di03LjFoLTQ3Ljl2LTkuMmgtMTEuN3Y5LjJoLTQ3Ljl2Ny4xSDQwNzIuN3oiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwNzIuNywyODQ2LjZ2MTAuMmgtMzV2Ny4xaDgxLjZ2LTcuMWgtMzV2LTEwLjJoNDcuOXYtNy4xaC00Ny45di05LjJoLTExLjd2OS4yaC00Ny45djcuMUg0MDcyLjd6Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MjUxLjUsMjg0Ni42di03LjFoLTQ2LjZ2LTkuMmgtMTEuN3Y5LjJoLTQ3Ljl2Ny4xSDQyNTEuNXoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQxOTAuNiwyOTEzLjd2MTEuMWMwLjQsNS40LTQsOC40LTExLjcsOC4yaC0zLjlsLTMuOSw3LjFoMTEuN2MxMywwLjMsMTkuOC01LjcsMTkuNC0xNS4zdi0xMS4xaDQ5LjJ2LTcuMQoJaC00OS4ybDAuMS0wLjZjMTYuNi0zLjIsMjQtNy45LDM2LjEtMTMuNnYtNy4xaC04MC4zdjcuMWg2My41Yy05LjcsMy44LTE3LDcuMy0zMS4xLDEwLjJ2NGgtNDUuM3Y3LjFINDE5MC42eiIvPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDIxOS4xLDI4NzkuMWMxMy4zLDAuNiwyMC4yLTQsMTkuNC0xNC4zdi0xMi4yaC04MC4zdjI2LjRINDIxOS4xeiBNNDE3MS4yLDI4NTkuOGg1NC40djUuMQoJYzAuMyw1LjMtMS4zLDcuNC03LjgsNy4xaC00Ni42VjI4NTkuOHoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTM5MDUuMSwyODAzLjdsMS45LDAuMWMwLjYtMC41LDEuNC0wLjgsMi4zLTAuOGMxLDAsMi4xLDAuNCwyLjcsMWwxLjYsMC4xYzEwLDE1LjcsMzMuMyw1Mi4xLDMzLjMsNTIuMWgtMjcuMgoJbC0xMS40LTMyLjFsLTEzLjIsNDAuNGg1NS43bDExLjcsMTcuN2gtMTA3LjVDMzg1NS4xLDI4ODIuNSwzODkyLjQsMjgyMy43LDM5MDUuMSwyODAzLjd6IE0zOTEyLjYsMjk2Ny4xaC0wLjkKCWMtMC42LDEuMi0xLjksMS44LTMuNCwxLjhjLTEuNywwLTMuMS0wLjktMy42LTIuM2gtMC42Yy0xMC0xNS43LTMzLjMtNTIuMS0zMy4zLTUyLjFoMjcuMmwxMS40LDMyLjFsMTMuMi00MC40aC01NS43bC0xMS43LTE3LjcKCWgxMDcuNUMzOTYyLjYsMjg4OC4zLDM5MjUuMywyOTQ3LjEsMzkxMi42LDI5NjcuMXoiLz4KPHBhdGggY2xhc3M9InN0MiIgZD0iTTM5ODguMiwyOTE4LjhjNS44LTguNiw5LjMtMTkuNCw5LjMtMzEuNGMwLTExLjEtMy4xLTIxLjQtOC4zLTI5LjdjOS41LDUuNCwxNi4xLDE3LDE2LjEsMzAuMgoJQzQwMDUuMywyOTAxLjksMzk5OC4yLDI5MTMuNywzOTg4LjIsMjkxOC44eiIvPgo8cGF0aCBjbGFzcz0ic3QzIiBkPSJNMzk2NC4zLDI5MzIuMWM3LjktMTIuMywxMi42LTI4LjEsMTIuNi00NS4yYzAtMTUuOS00LjEtMzAuNy0xMS00Mi42YzEyLjcsNy45LDIxLjQsMjQuNCwyMS40LDQzLjQKCUMzOTg3LjIsMjkwNy42LDM5NzcuNywyOTI0LjcsMzk2NC4zLDI5MzIuMXoiLz4KPHBhdGggY2xhc3M9InN0MiIgZD0iTTM4MTguOCwyODg5YzAsMTEsMy4xLDIxLjIsOC4yLDI5LjVjLTkuNS01LjQtMTUuOS0xNi44LTE1LjktMzAuMmMwLTEzLjksNy4xLTI1LjcsMTcuMi0zMC44CglDMzgyMi4zLDI4NjYuMiwzODE4LjgsMjg3Ny4xLDM4MTguOCwyODg5eiIvPgo8cGF0aCBjbGFzcz0ic3QzIiBkPSJNMzg0Mi4xLDI4ODguNWMwLDE1LjksNC4xLDMwLjcsMTEsNDIuNmMtMTIuNy03LjktMjEuNC0yNC40LTIxLjQtNDMuNGMwLTE5LjgsOS41LTM2LjksMjIuOS00NC4zCglDMzg0Ni45LDI4NTUuOCwzODQyLjEsMjg3MS40LDM4NDIuMSwyODg4LjV6Ii8+Cjwvc3ZnPgo="},435:function(e,t,n){"use strict";function o(e,t,n){function b(e){var n=e.touches[0];d=n.pageX-h,v=n.pageY-p,m===undefined&&(m=Math.abs(v)>Math.abs(d)?s:i),t==="horizontal-swipe"&&m===i&&e.preventDefault(),t==="vertical-swipe"&&m===s&&e.preventDefault()}function w(e){l.removeEventListener("touchmove",b),l.removeEventListener("touchend",w),l.removeEventListener("touchcancel",w),y=new Date-g;if(Math.abs(d)<f&&Math.abs(v)<f)if(y<a){if(t!=="tap")return;n()}else if(y>u){if(t!=="longtap")return;n()}if(m===s){if(t!=="vertical-swipe")return;var r=v;if(Math.abs(r)>=o){var i=r>0?"down":"up";n(i)}}else{if(t!=="horizontal-swipe")return;var c=d;if(Math.abs(c)>=o){var h=c>0?"right":"left";n(h)}}}var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},i=1,s=2,o=30,u=1e3,a=250,f=5,l=document.body,c=void 0,h=void 0,p=void 0,d=void 0,v=void 0,m=void 0,g=void 0,y=void 0;e.addEventListener("touchstart",function(e){l.removeEventListener("touchmove",b),l.removeEventListener("touchend",w),l.removeEventListener("touchcancel",w),c=e.touches[0],h=c.pageX,p=c.pageY,d=0,v=0,m=undefined,g=new Date,l.addEventListener("touchmove",b,{passive:!1}),l.addEventListener("touchend",w,{passive:!1}),l.addEventListener("touchcancel",w,{passive:!1})})}var r=n(28),i=n.n(r),s={install:function(){i.a.directive("gesture",{inserted:function(t,n,r){var i=n.arg,s=n.value;o(t,i,s,n.modifiers)}})}};t.a=s},436:function(e,t,n){"use strict";var r=n(28),i=n.n(r),s=n(5);if(s.inBrowser&&!0){var o=n(417),u=n(442);o.config("https://3bfe5dcddbda4b729e1fc2c52b37b5ce@sentry.io/172530").addPlugin(u,i.a).install()}},437:function(e,t,n){n(1272);var r=n(11)("main",n(892),n(1390),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/gallary/gallary-infocard/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},443:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(54),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){o(this,e);if(!r.inBrowser)return;this.category=i.path}return s(e,[{key:"resourceShare",value:function(t){this.track(t?{action:"使用分享组件分享",label:location.href}:{action:"打开分享组件",label:location.href})}},{key:"track",value:function(t){var n=t.category,r=n===undefined?this.category:n,i=t.action,s=t.label,o=s===undefined?" ":s,u=t.value,a=u===undefined?1:u,f=t.option;window._hmt&&window._hmt.push(["_trackEvent",r,i,o,a])}},{key:"toward",value:function(t,n,r){this.track({action:this.category+" => "+t,label:n,option:r})}}]),e}();t["default"]=u},482:function(e,t,n){n(1286);var r=n(11)("main",n(893),n(1441),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/image-croper/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},5:function(e,t,n){"use strict";function r(e){return e.indexOf("iPhone")!==-1||e.indexOf("Android")!==-1}function o(e,t){var n=navigator.mimeTypes;for(var r in n)if(n[r][e]===t)return!0;return!1}function v(e){return Object(e)===e&&typeof e!="function"&&!Array.isArray(e)}function m(e){return!Array.isArray(e)&&e-Number.parseFloat(e)+1>=0}function g(e){return Array.isArray(e)?e.length===0:v(e)?Object.keys(e).length===0:!e}function y(e){return e instanceof Event||e.originalEvent instanceof Event}function b(e){return e>=0}function w(e){return typeof e=="string"||e instanceof String}function E(e){return w(e)&&!!e.match(/^((https?|ftp|rtsp|mms):\/\/)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6}|localhost)(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\/?)$/i)}function S(e){return w(e)&&!!e.match(/^((https):\/\/)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6}|localhost)(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\/?)$/i)}function x(e,t){var n=Math.max(e.xmin,t.xmin),r=Math.max(e.ymin,t.ymin),i=Math.min(e.xmax,t.xmax),s=Math.min(e.ymax,t.ymax);return n>i||r>s}function T(e,t){var n=Math.max(e.xmin,t.xmin),r=Math.max(e.ymin,t.ymin),i=Math.min(e.xmax,t.xmax),s=Math.min(e.ymax,t.ymax);return n===i||r===s}function N(e,t){var n=Math.max(e.xmin,t.xmin),r=Math.max(e.ymin,t.ymin),i=Math.min(e.xmax,t.xmax),s=Math.min(e.ymax,t.ymax);return n<i&&r<s}function C(e,t){return e.xmin>t.xmin&&e.xmax<t.xmax&&e.ymin>t.ymin&&e.ymax<t.ymax}function k(e,t){if(!e||!t||!e.hasChildNodes())return!1;var n=e.childNodes;for(var r=n.length-1;r>-1;r--)if(n[r].isSameNode(t))return!0;return!1}function L(e,t){while(t.parentNode){t=t.parentNode;if(t===e)return!0}return!1}function A(e){if(!e)return!1;var t=e.replace(/&#8203;|\u200B/g,"").match(/<[^<>]+>[^<>]+<[^<>]+>/g);return Boolean(t)}function O(e,t){var n=!1;e:for(var r=e.length-1;r>-1;r--){var i=e[r].elements;for(var s=i.length-1;s>-1;s--)if(i[s].type==="plugin-iframe"&&(!t||i[s].src.match(t))){n=!0;break e}}return n}function M(e){return m(e)?e+"px":"0px"}function _(e,t){var n=t?Number.parseInt(e,10):Number.parseFloat(e);return Number.isNaN(n)?0:n}function D(e){return encodeURI(e.toString())}function P(e){var t=_(e.top),n=_(e.left),r=n+_(rt(e,"width")),i=t+_(rt(e,"height"));return{top:t,left:n,right:r,bottom:i}}function H(e){return{top:M(e.top),left:M(e.left),width:M(e.right-e.left),height:M(e.bottom-e.top)}}function B(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:location.search,t={};return!e||e.length<2?t:(e=e.slice(1),e=e.split("&"),e.map(function(e){e=e.split("="),t[e[0]]=e[1]}),t)}function j(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return"?"+t.join("&")}function F(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"image/png";e=e.split(",")[1],e=window.atob(e);var n=new Uint8Array(e.length);for(var r=0;r<e.length;r++)n[r]=e.charCodeAt(r);var i=new Blob([n],{type:t});return i}function I(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(new Uint8Array(e.target.result))},r.readAsArrayBuffer(e)})}function q(e){var t=document.createElement("pre"),n=document.createTextNode(e);return t.appendChild(n),t.innerHTML}function R(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText.trim()}function U(e,t,n){var r=void 0,i=0;return function(){for(var s=arguments.length,o=Array(s),u=0;u<s;u++)o[u]=arguments[u];var a=this,f=function(){i=Date.now(),e.apply(a,o)},l=Date.now()-i,c=n&&!r||l>=t;clearTimeout(r),c?f():r=setTimeout(f,t-l)}}function z(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function W(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function X(){return new Promise(function(e){if(!document.getElementById("editor-loader")){e();return}setTimeout(function(){$("#editor-loader").addClass("leave"),setTimeout(function(){$("#editor-loader").addClass("remove"),e()},550)},500)})}function V(){var e=function t(e){e.preventDefault(),document.removeEventListener("contextmenu",t)};document.addEventListener("contextmenu",e)}function J(e){if(Array.isArray(e))return e.map(function(e){return J(e)});if(v(e)){var t={};for(var n in e)t[n]=J(e[n]);return t}return e}function K(e,t,n){if(!e||!t||!v(t))return!1;for(var r in t)v(t[r])?e[r]?K(e[r],t[r],n):n?n(e,r,t[r]):e[r]=t[r]:n?n(e,r,t[r]):e[r]=t[r];return e}function Q(e){var t=e.parentElement,n=e.outerHTML;while(t.parentElement)n=t.outerHTML.replace(t.innerHTML,n),t=t.parentElement;return n}function G(){var e=document.createElement("script");e.src="https://ppt-baomitu.disqus.com/embed.js",e.setAttribute("data-timestamp",+(new Date)),document.body.appendChild(e)}function Y(e,t,n){var r=!1,i=t.length;e=~~e;if(t.length<1)return r;if(e<t[0].n-n||e>t[i-1]+n)return r;var s=Math.abs(e-t[0].n);for(var o=0;o<i;o++){var u=e-t[o].n;if(Math.abs(u)>s)return r;Math.abs(u)<=n&&(r=Object.assign({},t[o],{delta:u}))}return r}function Z(e){if(!!g(e.children))return g(e.innerText)?!1:e;var t=e.children;for(var n in t){var r=Z(t[n]);if(r)return r}}function et(){return tt()+tt()+"-"+tt()+"-"+tt()+"-"+tt()+"-"+tt()+tt()+tt()}function tt(){return((1+Math.random())*65536|0).toString(16).substring(1)}function nt(e,t){return e[t]==="auto"?e["_"+t]?e["_"+t]:0:e[t]}function rt(e,t){return _(nt(e,t))+2*(_(e["border-width"])||0)+2*(_(e.padding)||0)}function it(e){return e.offsetHeight-2*(_(e.style.borderWidth)||0)-2*(_(e.style.padding)||0)}function st(e){return e.offsetWidth-2*(_(e.style.borderWidth)||0)-2*(_(e.style.padding)||0)}function ot(e,t){return e*(t.scale||t.zoom||1)}function ut(e,t,n,r){return m(e.left)&&(e.left=at(e.left,t.left,n),r&&(e.left=M(e.left))),m(e.top)&&(e.top=at(e.top,t.top,n),r&&(e.top=M(e.top))),m(e.width)&&(e.width=ot(e.width,n),r&&(e.width=M(e.width))),m(e.height)&&(e.height=ot(e.height,n),r&&(e.height=M(e.height))),e}function at(e,t,n){return n.scale?e=e*n.scale+t:n.zoom?e=(e+t)*n.zoom:e+=t,e}function ft(e){return new Promise(function(t,n){try{(function(){var n=new Image;n.onload=function(){window.getImageColorContext||(window.getImageColorCanvas=document.createElement("canvas"),window.getImageColorCanvas.width=document.body.clientWidth,window.getImageColorCanvas.height=window.innerHeight,window.getImageColorContext=window.getImageColorCanvas.getContext("2d"));var e=window.getImageColorContext;e.clearRect(0,0,n.width,n.height),e.drawImage(n,0,0,n.width,n.height);var r=e.getImageData(0,0,n.width,n.height).data,i=0,s=0,o=0,u=0,a=0,f=0,l=0,c=void 0,h=void 0;for(var p=0;p<r.length;p+=4)i++,u+=r[p],a+=r[p+1],f+=r[p+2],l+=r[p+3],h=.299*r[p]+.7152*r[p+1]+.0722*r[p+2],c=h-o,s+=c*c,o+=c/i;var d=Math.sqrt(s/i)/255;o/=255,u/=i||1,a/=i||1,f/=i||1,l/=(i||1)/255,t({color:"rgb("+u+", "+a+", "+f+")",complex:d>.3,dark:o<.5,opacity:l})},n.crossOrigin="",n.src=e})()}catch(r){console.error(r),n(r)}})}function lt(e){var t={svg:["version","id","xmlns:ev","xmlns","xmlns:xlink","xmlns:sketch","x","y","width","height","viewbox","enable-background","xml:space","preserve-aspect-ratio","preserveaspectratio","class"],title:[],defs:[],g:["fill","fill-rule","id","stroke","stroke-width","transform"],path:["fill","d","id"],circle:["fill","cx","cy","r"],rect:["fill","width","height","x","y"],line:["stroke","x1","y1","x2","y2"],polyline:["fill","points"],ellipse:["fill","cx","cy","rx","ry"]};Object.assign(e.whiteList,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.inMobileFun=r,n.d(t,"inBrowser",function(){return i}),n.d(t,"inSafari",function(){return s}),n.d(t,"inWx",function(){return u}),n.d(t,"in360",function(){return a}),n.d(t,"inIE",function(){return f}),n.d(t,"inFirefox",function(){return l}),n.d(t,"inPC",function(){return c}),n.d(t,"inMac",function(){return h}),n.d(t,"inIpad",function(){return p}),n.d(t,"inMobile",function(){return d}),t.isObject=v,t.isNumeric=m,t.isEmpty=g,t.isEvent=y,t.isPos=b,t.isString=w,t.isUrl=E,t.isHttpsUrl=S,t.isSeparate=x,t.isTangent=T,t.isIntersects=N,t.isContain=C,t.isChildNode=k,t.isPosterityNode=L,t.hasTextBetweenTag=A,t.hasIframe=O,t.transNumberIntoPixel=M,t.transPixelIntoNumber=_,t.serializeFunction=D,t.transStylesIntoEdge=P,t.transEdgeIntoStyles=H,t.search2obj=B,t.obj2search=j,t.dataurl2blob=F,t.blob2buffer=I,t.encode4Html=q,t.encode4PureStr=R,t.debounce=U,t.launchIntoFullscreen=z,t.exitFullscreen=W,t.removeLoader=X,t.banContextMenuForOnce=V,t.deepClone=J,t.objectDeepAssign=K,t.getBranchToPureTextNode=Q,t.addCommentBox=G,t.findInSnapHelper=Y,t.findPureTextNode=Z,t.uuid=et,t.S4=tt,t.getAutoStylesValue=nt,t.getBorderBoxSize=rt,t.getRealHeight=it,t.getRealWidth=st,t.calSizeWithZoomScale=ot,t.calStyleWithZoomScaleAndOffset=ut,t.calPosWithZoomScaleAndOffset=at,t.getImageColor=ft,t.addSvg2XSSWL=lt;var i=typeof window!="undefined"&&Object.prototype.toString.call(window)!=="[object Object]",s=i&&navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1,u=i&&/micromessenger/.test(navigator.userAgent.toLowerCase()),a=i&&navigator.userAgent.indexOf("Chrome")!==-1&&navigator.mimeTypes&&o("type","application/vnd.chromium.remoting-viewer"),f=i&&window.ActiveXObject!==undefined,l=i&&navigator.userAgent.indexOf("Firefox")!==-1,c=i&&(navigator.userAgent.indexOf("Windows")!==-1||navigator.userAgent.indexOf("Macintosh")!==-1),h=i&&navigator.userAgent.indexOf("Macintosh")!==-1,p=i&&navigator.userAgent.indexOf("iPad")!==-1,d=i&&r(navigator.userAgent)},501:function(e,t,n){var r=n(11)("main",n(530),n(670),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-base/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},502:function(e,t,n){var r=n(11)("main",n(531),n(663),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-code/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},503:function(e,t,n){var r=n(11)("main",n(532),n(660),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-group/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},504:function(e,t,n){var r=n(11)("main",n(533),n(661),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-iframe/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},505:function(e,t,n){var r=n(11)("main",n(534),n(662),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-image/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},506:function(e,t,n){var r=n(11)("main",n(535),n(665),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-line/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},507:function(e,t,n){var r=n(11)("main",n(536),n(668),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-page/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},508:function(e,t,n){var r=n(11)("main",n(537),n(671),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-shape/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},509:function(e,t,n){var r=n(11)("main",n(538),n(672),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-slide/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},510:function(e,t,n){var r=n(11)("main",n(539),n(669),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-table/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},511:function(e,t,n){var r=n(11)("main",n(540),n(667),null,null);r.options.__file="/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/component/plugin/plugin-text/main.vue",r.options.functional&&console.error("[vue-loader] main.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},520:function(e,t){},530:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),n(605);var r=n(13),i=a(r),s=n(5),o=n(131),u=a(o);t.default={computed:{type:function(){return this.$parent.type},element:function(){return this.$parent.element},elementIndex:function(){return this.$parent.elementIndex},pageIndex:function(){return this.$parent.pageIndex},group:function(){return this.element.group?this.$parent.$parent.page.groups[this.element.group]:!1},groupFirst:function(){return this.element.group?this.group:this.element},fragment:function(){return this.groupFirst.fragment},pretype:function(){return this.type.match(/present|preview|display/)},animationType:function(){return this.pretype||this.addAnimationType?this.groupFirst.animations&&this.groupFirst.animations[0].type:undefined},classes:function l(){var l=Object.assign({fragment:!1,visible:!1,"Plugin--inGroup":Boolean(this.element.group)},this.$parent.editorClasses||{});return this.fragment?this.type==="editing"?l:this.type==="fragment"?Object.assign(l,{visible:!0,fragment:!0}):Object.assign(l,f({fragment:!0},this.fragment.animation,!0)):(this.addAnimationType&&!this.addAnimationTransition&&Object.assign(l,{"Plugin--animationPreview":!0}),this.element.animations&&this.type==="fragment"&&Object.assign(l,{"fragment--disable":!0}),l)},link:function(){return this.$parent.slot=this.element.link&&(0,s.isUrl)(this.element.link)&&this.pretype?"link":"normal",Boolean(this.element.link)&&(0,s.isUrl)(this.element.link)},styles:function c(){var c={};switch(this.element.type){case"plugin-line":case"plugin-image":case"plugin-shape":Object.assign(c,this.element.styles,{"line-height":"0","font-size":"0"});break;default:Object.assign(c,this.element.styles)}return this.animationType&&this.addAnimationTransition===this.addAnimationType&&Object.assign(c,{"transition-duration":this.groupFirst.animations[0].duration,"transition-delay":this.groupFirst.animations[0].delay}),this.type.match(/editing|fragment/)&&(this.group&&this.group.invisible||this.element.invisible)&&(c.display="none"),JSON.parse((0,u.default)(JSON.stringify(c)))}},data:function(){return{addAnimationType:!1,addAnimationTransition:!1}},created:function(){i.default.$on("preview-plugin-animation",this._previewAnimation)},beforeDestroy:function(){i.default.$off("preview-plugin-animation",this._previewAnimation)},methods:{_afterRender:function(t){var n=this;return new Promise(function(e){n.$nextTick().then(function(){return requestAnimationFrame(t||e)})})},_resetAnimation:function(){this.addAnimationType=this.addAnimationTransition=!1,i.default.$off("report-click-position",this._resetAnimation),window.removeEventListener("keydown",this._resetAnimation)},_previewAnimation:function(t){var n=this,r=t.pageIndex;this.type==="editing"&&this.pageIndex===r&&this.groupFirst.animations&&(this._resetAnimation(),this._afterRender(function(){i.default.$on("report-click-position",n._resetAnimation),window.addEventListener("keydown",n._resetAnimation),n.addAnimationType=!0,n._afterRender(function(){n.addAnimationTransition=!0;var e=(Number.parseFloat(n.groupFirst.animations[0].duration)+Number.parseFloat(n.groupFirst.animations[0].delay))*1e3+100;setTimeout(function(){n._resetAnimation(),n.$parent.selected&&n.$parent.selectLayer&&n.$parent.selectLayer()},e)})}))}}}},531:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=o(r),s=n(5);n(606);var u=!s.inBrowser||n(546);t.default={props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},type:{type:String,required:!0}},computed:{classes:function a(){var a={"PluginCode-placeholder":!this.element.content};return a[this.element.language]=!0,a["PluginCode--"+this.element.theme]=!0,a},language:function(){return this.element.language==="auto"?undefined:this.element.language},styles:function(){var t=(0,s.transPixelIntoNumber)(this.element.styles["border-radius"]),n=(0,s.transPixelIntoNumber)(this.element.styles["border-width"]||0);return{"border-radius":(0,s.transNumberIntoPixel)(Math.max(t-n,0))}}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t._highlight=function(){u.highlightBlock(t.$refs.code)},t._highlight()})},watch:{element:{handler:function(){this.$nextTick(this._highlight)},deep:!0},type:function(){this.$nextTick(this._highlight)}},methods:{dblclick:function(){this.type==="editing"&&i.default.$emit("config-plugin-code-content")}}}},532:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(607);var r=n(13),i=s(r);t.default={props:{type:{type:String,required:!0},pageIndex:{type:Number,required:!0},group:{type:Object,required:!0}},data:function(){return{animationPreviewing:!1}},computed:{related:function(){if(!this.$store)return!1;var t=this.$store.state.editor;return t.pageIndex===this.pageIndex&&t.groupIndex===this.group.id&&t.elementIndex!==-1},chainRelated:function(){var t=this;if(!this.$store)return!1;var n=this.$store.state.editor.chain;return this.$store.state.editor.pageIndex===this.pageIndex&&n.length>1&&n.findIndex(function(e){return t.group.elements.indexOf(e)>-1})>-1},selected:function(){if(!this.$store)return!1;var t=this.$store.state.editor;return t.pageIndex===this.pageIndex&&t.groupIndex===this.group.id},focused:function(){var t=this;if(!this.$store)return!1;var n=this.$store.state.editor.chain;return this.$store.state.editor.pageIndex===this.pageIndex&&n.length>1&&n.findIndex(function(e){return e===t.group.id})>-1},locked:function(){return this.group.locked},classes:function(){return{"group-box-selected":(this.selected||this.focused)&&!this.related&&!this.chainRelated,"group-box-related":this.related||this.chainRelated,"elem-box-locked":this.locked,"fragment--disable":this.type==="fragment"&&this.group.animations}},styles:function(){var t=this.type==="editing"?{"z-index":this.group.styles["z-index"]-this.group.elements.length}:{};return this.group.invisible&&(t.display="none"),this.animationPreviewing&&(t.border="none"),Object.assign({},this.group.styles,t)}},created:function(){i.default.$on("preview-plugin-animation",this._previewAnimation)},beforeDestroy:function(){i.default.$off("preview-plugin-animation",this._previewAnimation)},methods:{_resetAnimation:function(){this.animationPreviewing=!1,i.default.$off("report-click-position",this._resetAnimation),window.removeEventListener("keydown",this._resetAnimation)},_previewAnimation:function(t){var n=this,r=t.pageIndex,s=t.groupIndex;if(this.pageIndex===r&&this.group.id===s){this._resetAnimation(),i.default.$on("report-click-position",this._resetAnimation),window.addEventListener("keydown",this._resetAnimation),this.animationPreviewing=!0;var o=(Number.parseFloat(this.group.animations[0].duration)+Number.parseFloat(this.group.animations[0].delay))*1e3+100;setTimeout(function(){n._resetAnimation()},o)}}}}},533:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(608);var r=n(13),i=a(r),s=n(66),o=a(s),u=n(5);t.default={props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},type:{type:String,required:!0}},data:function(){return{blockInteraction:!1,httpsTips:!1,source:""}},computed:{styles:function(){var t=(0,u.transPixelIntoNumber)(this.element.styles["border-radius"]),n=(0,u.transPixelIntoNumber)(this.element.styles["border-width"]||0);return{"border-radius":(0,u.transNumberIntoPixel)(Math.max(t-n,0))}},src:function(){if(this.type.match(/editing|fragment|order|record/)||this.element.preload)return this.source},dataSrc:function(){if(this.type.match(/present|preview|display/))return this.source}},watch:{"element.src":function(t){this.initSource(),this.initHttpsTips()}},mounted:function(){window.vm=this,this.blockInteraction=u.inMobile,this.initSource(),this.initHttpsTips()},methods:{initSource:function(){if(!(0,u.isUrl)(this.element.src)){this.source="";return}if(location.protocol==="https:"&&!(0,u.isHttpsUrl)(this.element.src)){this.source="";return}this.source=this.element.src},initHttpsTips:function(){if(location.protocol==="http:"||(0,u.isHttpsUrl)(this.element.src)||!(0,u.isUrl)(this.element.src)){this.httpsTips=!1;return}location.pathname.match(/^\/editor/)?this.tipType="editor":this.tipType="guideRedirect",this.httpsTips=!0},dblclick:function(){i.default.$emit("substitute-plugin-iframe")},gotoHttp:function(){location.protocol="http"},gotoIframe:function(){location.href=this.source},showLongtapHint:function(){o.default.toast("若想查看详情，可长按跳转到内嵌网页哦",{classNames:["PluginIframe-toast"]})}}}},534:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(609);var r=n(13),i=u(r),s=n(5),o=n(75);t.default={props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},type:{type:String,required:!0}},computed:{styles:function(){var t=(0,s.transPixelIntoNumber)(this.element.styles["border-radius"]),n=(0,s.transPixelIntoNumber)(this.element.styles["border-width"]||0);return{"border-radius":(0,s.transNumberIntoPixel)(Math.max(t-n,0))}}},data:function(){return{slot:"normal",reloadable:!1,loading:!1,showImageCroper:!1}},created:function(){},mounted:function(){this.$nextTick(this.bindEvents)},beforeDestroy:function(){this.bindEvents(!0)},methods:{bindEvents:function(t){var n=t?"removeEventListener":"addEventListener";this.$refs.image[n]("error",this.loadFailed),this.$refs.image[n]("abort",this.loadFailed),this.$refs.image[n]("load",this.loadSuccess)},cutImage:function(){var t=this.element.src,n={src:t,callback:function(t){i.default.$emit("substitute-plugin-image-without-choose",[t]),o.image.addByUrl(t)}};this.$refs.pluginImageCroper.showImageCroper(n)},dblclick:function(){this.type==="editing"&&i.default.$emit("substitute-plugin-image")},loadFailed:function(t){this.reloadable=!0},loadSuccess:function(t){this.reloadable=!1},reload:function(t){this.reloadable&&(t.preventDefault(),t.stopPropagation(),this.$refs.image.src="",this.$refs.image.src=this.element.src)}}}},535:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(610);var r=n(5);t.default={props:{type:{type:String,required:!0},pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}}},data:function(){return{selected:!1,focused:!1,slot:"normal"}},computed:{_width:function(){return Math.abs(this.element.x1-this.element.x2)},_height:function(){return Math.abs(this.element.y1-this.element.y2)},bolder:function(){return this._width<10?"width":this._height<10?"height":""},svgAttr:function(){var t=[Math.min(this.element.x1,this.element.x2),Math.min(this.element.y2,this.element.y1),Math.max(this._width,1),Math.max(this._height,1)].join(" "),n=Math.max(this.element.styles._width||this._width,1),r=Math.max(this.element.styles._height||this._height,1);return{viewBox:t,width:n,height:r}},endpointSize:function(){var t=this;return[this.element.start,this.element.end].map(function(e){var n=void 0,r=void 0;switch(e){case 1:r=Math.max(6,2.25*t.element.strokeWidth),n=["M -",r," -",r," L 0 0 L ",r," -",r].join("");break;case 2:r=Math.max(4,1.5*t.element.strokeWidth),n=["0,"+r,r+",-"+r,-r+",-"+r].join(" ");break;case 3:case 4:n=1.5*t.element.strokeWidth}return n})},endpointPos:function(){var t=this,n=~~(Math.atan(this._width/this._height)*180/Math.PI);return this.element.x1<this.element.x2?this.element.y1<this.element.y2&&(n=180-n):this.element.y1<this.element.y2?n=180+n:n=360-n,[this.element.start,this.element.end].map(function(e,r){return e===3?[t.element["x"+(r+1)],t.element["y"+(r+1)]]:["translate(",t.element["x"+(r+1)],",",t.element["y"+(r+1)],") rotate(",r?n+180:n,")"].join("")})},startAnchorStyle:function(){return{top:(0,r.transNumberIntoPixel)(this.element.y1),left:(0,r.transNumberIntoPixel)(this.element.x1)}},endAnchorStyle:function(){return{top:(0,r.transNumberIntoPixel)(this.element.y2),left:(0,r.transNumberIntoPixel)(this.element.x2)}},fakeStartAnchorStyle:function(){return{top:(0,r.transNumberIntoPixel)(this.element.y1<this.element.y2?0:this.element.styles._height),left:(0,r.transNumberIntoPixel)(this.element.x1<this.element.x2?0:this.element.styles._width)}},fakeEndAnchorStyle:function(){return{top:(0,r.transNumberIntoPixel)(this.element.y2<this.element.y1?0:this.element.styles._height),left:(0,r.transNumberIntoPixel)(this.element.x2<this.element.x1?0:this.element.styles._width)}},strokeLinecap:function(){return this.element.lineStyle===2?"round":undefined},strokeDasharray:function(){var t=void 0,n=this.element.lineStyle;if(n){var r=this.element.strokeWidth*(2+n);t=(n===2?0:r)+" "+r}return t}}}},536:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=s(r);n(611),t.default={props:{pageIndex:{type:Number,required:!0},page:{type:Object,required:!0},type:{type:String,required:!0}},computed:{styles:function(){return Object.assign({width:"100%",height:"100%",top:"0px",left:"0px",padding:"0",margin:"0",color:this.page.color,"border-color":this.page.color},this.page.styles||{})}},mounted:function(){},methods:{move:function(t){var n=$(t.target).attr("data-direction"),r=this.pageIndex;i.default.$emit("config-page-order",{direction:n,pageIndex:r}),t.stopPropagation()},backToEditing:function(t){i.default.$emit("config-type","editing")}}}},537:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(612);var r=n(13),i=a(r),s=n(131),o=a(s),u=n(5);(0,u.addSvg2XSSWL)(o.default),t.default={props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}},type:{type:String,required:!0}},data:function(){return{slot:"normal"}},computed:{code:function(){return(0,o.default)(this.element.code)}},methods:{dblclick:function(){this.type==="editing"&&i.default.$emit("substitute-plugin-shape")}}}},538:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),n(613);var r=n(95),i=s(r);t.default={props:{slide:{type:Object,required:!0},type:{type:String,"default":"present"},extraConfig:{type:Object,"default":function(){return{}}},thumbnail:{type:Boolean,"default":!1},scale:{type:Object,"default":function(){return{x:1,y:1}}}},data:function(){return{thumbnailAble:!1,defaultConfig:{touch:!1}}},computed:{classes:function(){var t;return t={RevealViewPort:!0,"PluginSlide--thumbnail":this.thumbnail},o(t,"theme-color--"+(this.slide.colors&&this.slide.colors.name),!0),o(t,"PluginSlide--"+this.type,!0),o(t,"theme-font--"+this.slide.font,!0),t},thumbnailStyle:function(){return this.thumbnail&&this.thumbnailAble?{transform:"scale("+this.scale.x+","+this.scale.y+")",width:this.slide.config.width+"px",height:this.slide.config.height+"px","transform-origin":"0 0","background-image":this.slide.pages[0]["background-image"]?"url("+this.slide.pages[0]["background-image"]+")":"none","background-color":this.slide.pages[0]["background-color"]||"transparent","background-size":this.slide.pages[0]["background-size"]||"none"}:{}}},mounted:function(){var t=this;this.$nextTick(function(){t.thumbnail||t.initialize(),t.thumbnailAble=!0})},methods:{initialize:function(){var t=void 0;this.type==="editing"?t=Object.assign({},this.defaultConfig,this.slide.config,this.extraConfig):t=Object.assign({},this.defaultConfig,this.slide.config);try{i.default.initialize(t)}catch(n){setTimeout(function(){throw n})}},swipeHandler:function(t){t==="right"?i.default.prev():t==="left"&&i.default.next()}}}},539:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(614);var r=n(5),i=n(13),s=a(i),o=n(131),u=a(o),f=0,l=0;t.default={props:{type:{type:String,required:!0},pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0,"default":function(){return{}}}},computed:{cellStyle:function(){var t={padding:this.element.cellPadding,"border-width":this.element.borderWidth,"border-color":this.element.borderColor};return this.xss(t)},headerColumnStyle:function(){var t={"background-color":this.element.headerColumnColor};return this.xss(t)},minCellWidth:function(){return 40+(0,r.transPixelIntoNumber)(this.element.cellPadding)*2}},data:function(){return{helperOn:!1,helperIndex:0,helper:[],selected:!1,oriWidth:0,oriX:0,maxCellBias:0}},methods:{xss:function(t){return JSON.parse((0,u.default)(JSON.stringify(t)))},realCellStyle:function(t){var n=t.index,r=t.rowIndex;return r!==f&&n===l?Object.assign({width:this.element.widths[n]},this.cellStyle,this.headerColumnStyle):Object.assign({width:this.element.widths[n]},this.cellStyle)},rowStyle:function(t){var n="";t===f?n=this.element.headerRowColor:t%2===1&&this.element.isInterlaced&&(n=this.element.interlacedColor);var r={"background-color":n};return this.xss(r)},helperMouseDown:function(t){this.selected&&($("body").on("mousemove",this.helperMouseMove),$("body").on("mouseup",this.helperMouseUp),this.helperOn=!0,this.helperIndex=(0,r.transPixelIntoNumber)($(t.target).attr("data-index")),this.oriWidth=(0,r.transPixelIntoNumber)(this.helper[this.helperIndex].left)-(this.helperIndex?(0,r.transPixelIntoNumber)(this.helper[this.helperIndex-1].left):0),this.oriX=t.clientX,this.oriY=t.clientY,this.maxCellBias=(0,r.transPixelIntoNumber)(this.element.styles.width)-(0,r.transPixelIntoNumber)(this.helper[this.helper.length-1].left)-this.minCellWidth,t.stopPropagation(),t.preventDefault())},helperMouseMove:function(t){if(this.helperOn){var n=(t.clientY-this.oriY)*Math.sin(this.element.rotate||0)+(t.clientX-this.oriX)*Math.cos(this.element.rotate||0);if(n>this.maxCellBias)return;var i=this.oriWidth+n;if(i<this.minCellWidth)return;s.default.$emit("config-plugin-table-cell-width",[this.helperIndex],{widths:(0,r.transNumberIntoPixel)(i)},this.elementIndex,this.pageIndex)}},helperMouseUp:function(t){this.helperOn&&($("body").off("mousemove",this.helperMouseMove),$("body").off("mouseup",this.helperMouseUp),this.helperOn=!1)},forceHelperUpdate:function(){var t=this,n=[],i=this.element.widths.slice(0,this.element.column),o=0,u=(0,r.transPixelIntoNumber)(this.element.borderWidth)||0;i.reduce(function(e,i,s){var a=0;(0,r.isEmpty)(i)?(a=t.$refs["row-0"][0].children[s].offsetWidth,o+=t.minCellWidth):(a=Math.max((0,r.transPixelIntoNumber)(i),(0,r.transPixelIntoNumber)(t.element.cellPadding)*2),o+=a);var f=e+a,l={left:(0,r.transNumberIntoPixel)(f)};return u>9&&(l.width=t.element.borderWidth),n.push(l),f},u/2),o+=this.minCellWidth;if(o!==this.element.minWidth){var a={minWidth:o,styles:{}};!this.element.rotate&&o>(0,r.transPixelIntoNumber)(this.element.styles.width)&&(a.styles.width=(0,r.transNumberIntoPixel)(o)),this.element.styles._height!==this.$el.offsetHeight&&(a.styles._height=this.$el.offsetHeight),s.default.$emit("config-plugin-table-minWidth",a,this.elementIndex,this.pageIndex)}this.helper=n}},mounted:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})},beforeDestroy:function(){$("body").off("mousemove",this.helperMouseMove),$("body").off("mouseup",this.helperMouseUp)},watch:{"element.widths":{handler:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})}},"element.borderWidth":{handler:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})}},"element.cellPadding":{handler:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})}},"element.styles.width":{handler:function(){var t=this;this.$nextTick(function(){t.forceHelperUpdate()})}}}}},54:function(e,t,n){"use strict";function o(){if(window.OfflineData&&window.OfflineData.slide_id){s=window.OfflineData.slide_id;return}s=location.pathname.match(/(d|p|embed|editor)\/([^\/]+)/)?location.pathname.match(/(d|p|embed|editor)\/([^\/]+)/)[2]:i.slide_id}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);n.d(t,"slide_id",function(){return s}),t.getSlideId=o,n.d(t,"embedStyle",function(){return u}),n.d(t,"path",function(){return a}),n.d(t,"isLogin",function(){return f}),n.d(t,"user_name",function(){return l});var i=r.inBrowser?n.i(r.search2obj)():{},s=void 0;r.inBrowser&&o();var u=i.style,a=r.inBrowser&&function(){var e=location.pathname.match(/\/([^\/]+)(\/|$)/)&&location.pathname.match(/\/([^\/]+)(\/|$)/)[1];if(!e)return"index";if(e.length===1){var t={d:"display",p:"present"};return t[e]}return e}(),f=r.inBrowser&&!n.i(r.isEmpty)(window.SD&&window.SD.myself),l=r.inBrowser&&(f?window.SD.myself.user_name:"noLogin")},540:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(615);var r=n(5),i=n(13),s=a(i),o=n(131),u=a(o);t.default={data:function(){return{selected:!1,textDisplayable:!0}},props:{pageIndex:{type:Number,required:!0},elementIndex:{type:Number,required:!0},element:{type:Object,required:!0},type:{type:String,required:!0,"default":""}},computed:{text:function(){if(!this.textDisplayable)return"";if((0,r.hasTextBetweenTag)(this.element.content)){var t=(0,u.default)(this.element.content,{onIgnoreTagAttr:function(t,n,r,i){if(n==="style")return n+'="'+r+'"'}});return t}return(0,u.default)(this.element.placeholder)}},methods:{delayRender:function(){var t=this;if(this.type!=="editing")return;this.textDisplayable=!1,this.$nextTick(function(){t.textDisplayable=!0})}},watch:{type:function(t){this.delayRender()}}}},541:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(621);var r=n(13),i=s(r);t.default={serverCacheKey:function(){return"slide-countdown"},props:{backgroundFill:{type:String,"default":"#888"},backgroundStroke:{type:String,"default":"#555"}},data:function(){return{timer:null,backDegree:undefined,endDegree:undefined,interval:16,lastTime:undefined,remainTime:0}},computed:{cxt:function(){return this.$refs.canvas.getContext("2d")}},mounted:function(){this.stop()},methods:{run:function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;this.isFirstTime=n,this.endDegree=-0.5,this.backDegree=-0.5,this.lastTime=t,this.remainTime=t,this._run(),this._setTimer()},pause:function(){this.stop(),this._animeCircle(this.endDegree)},stop:function(t){clearInterval(this.timer),this.cxt.clearRect(0,0,50,50),this._backgroundCircle(),t?this._replayIcon():this._playIcon()},resume:function(){var t=this.lastTime-this.remainTime;this.endDegree=-0.5+2*t/this.lastTime,this.backDegree=-0.5+.08*t/this.interval,this._run(),this._setTimer()},done:function(){i.default.$emit("autoplay-page-done"),this.remainTime=0},toggle:function(){i.default.$emit("autoplay-toggle")},_setTimer:function(){var t=this;clearInterval(this.timer),this.timer=setInterval(function(){t._run()},this.interval)},_run:function(){this.remainTime===this.lastTime,this.remainTime>0?(this.cxt.clearRect(0,0,50,50),this._backgroundCircle(),this._pauseIcon(),this.endDegree+=2/(this.lastTime/this.interval),this._animeCircle(this.endDegree),this.remainTime-=this.interval,this.isFirstTime||this.backDegree<1.3&&(this._backCircle(this.backDegree),this.backDegree+=.08)):(clearInterval(this.timer),this.done())},_backCircle:function(t){this.cxt.beginPath(),this.cxt.arc(25,25,20,-0.5*Math.PI,t*Math.PI,!0),this.cxt.lineWidth=2.5,this.cxt.strokeStyle="#ffffff",this.cxt.stroke()},_backgroundCircle:function(){this.cxt.beginPath(),this.cxt.arc(25,25,19.6,-0.5*Math.PI,1.5*Math.PI,!1),this.cxt.fillStyle=this.backgroundFill,this.cxt.strokeStyle=this.backgroundStroke,this.cxt.lineWidth=2.5,this.cxt.closePath(),this.cxt.fill(),this.cxt.stroke()},_pauseIcon:function(){this.cxt.beginPath(),this.cxt.moveTo(20,18),this.cxt.lineTo(20,32),this.cxt.moveTo(30,18),this.cxt.lineTo(30,32),this.cxt.lineWidth=3,this.cxt.strokeStyle="white",this.cxt.closePath(),this.cxt.stroke()},_playIcon:function(){this.cxt.beginPath(),this.cxt.moveTo(20,18.3),this.cxt.lineTo(31.7,25),this.cxt.lineTo(20,31.7),this.cxt.fillStyle="white",this.cxt.closePath(),this.cxt.fill()},_replayIcon:function(){this.cxt.beginPath(),this.cxt.moveTo(25,14),this.cxt.lineTo(25,20),this.cxt.lineTo(20,17),this.cxt.fillStyle="white",this.cxt.fill(),this.cxt.moveTo(25,14),this.cxt.arc(25,25,8,-0.5*Math.PI,Math.PI,!1),this.cxt.lineWidth=2,this.cxt.strokeStyle="white",this.cxt.stroke()},_animeCircle:function(t){this.cxt.beginPath(),this.cxt.arc(25,25,20,-0.5*Math.PI,t*Math.PI,!1),this.cxt.lineWidth=2.5,this.cxt.strokeStyle="#ffffff",this.cxt.stroke()}}}},542:function(e,t,n){"use strict";function v(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(5),s=n(119),o=v(s),u=n(13),a=v(u),f=n(28),l=v(f),c=n(425),h=v(c),p=n(95),d=v(p);i.inBrowser&&n(545),t.default={serverCacheKey:function(){return"slide-player"},props:{slide:{type:Object,required:!0},slideInfo:{type:Object,required:!0},countdownStyle:{type:Object,"default":function(){return{backgroundFill:"#888",backgroundStroke:"#555"}}}},data:function(){return{pageIndex:-1,hashFlip:!1,autoFlip:!1,onceHashFlip:!1,autoplaying:!0,resumable:!1,autoplayAble:!0,fragmentPlayStrategy:{},currentFragmentStrategy:[],currentFragmentTimer:null,autoFragmentBehavior:!1,fragmentResting:!1,revealPrepared:!1,audioPrepared:!1,hasAudio:!1,rawAudios:[],processedAudio:[],totalDuration:0,processedDuration:0,needToReplay:!1}},computed:{pageDuration:function(){return this.processedAudio[this.pageIndex]&&this.processedAudio[this.pageIndex].duration||parseInt(this.slideInfo.slide_autoplay_interval||"0",10)}},created:function(){var t=this;this.unwatchReady=this.$watch(function(){return!t.autoplayAble||t.revealPrepared&&t.audioPrepared},this.unveiled),a.default.$on("autoplay-page-done",this.next),a.default.$on("autoplay-toggle",this.toggle),parseInt(this.slideInfo.slide_autoplay_interval||"0",10)||(this.autoplayAble=!1)},mounted:function(){this.bindEvents(),this.autoplayAble&&this.prepareForPlayer(),setTimeout(i.removeLoader,1e4)},beforeDestroy:function(){this.bindEvents(!0),a.default.$off("autoplay-page-done",this.next),a.default.$off("autoplay-toggle",this.toggle),this.unwatchReady()},methods:{bindEvents:function(t){var n=t?"removeEventListener":"addEventListener";d.default[n]("slidechanged",this.handleSlideChange),d.default[n]("fragmentshown",this.handleFragmentBehavior),d.default[n]("fragmenthidden",this.handleFragmentBehavior),d.default[n]("paused",this.revealToggle),d.default[n]("resumed",this.revealToggle),d.default[n]("ready",this.revealReady)},prepareForPlayer:function(){var t=this;this.slide.pages.forEach(function(e,n){t.rawAudios.push(Object.assign({},e.audio,{pageIndex:n}));if(e.audio){t.hasAudio=!0;if(!(0,i.isEmpty)(e.audio.fragment)){var s=function(){var r=[],i=e.audio.fragment;for(var s in i)r.push({behavior:i[s],time:Number.parseInt(s,10)});return t.fragmentPlayStrategy[n]=r.sort(function(e,t){return e.time-t.time}).map(function(e,t){return Object.assign({},e,{interval:e.time-(r[t-1]||{time:0}).time})}),{v:void 0}}();if((typeof s=="undefined"?"undefined":r(s))==="object")return s.v}}var o=e.elements.reduce(function(e,t){return t.fragment?Math.max(e,t.fragment.index):e},-1);if(o>0){var u=~~((e.audio&&e.audio.duration||t.slideInfo.slide_autoplay_interval)/(o+2));t.fragmentPlayStrategy[n]=(new Array(o+1)).fill({behavior:"next",interval:u}).map(function(e,t){return Object.assign({},e,{time:e.interval*(t+1)})})}}),this.preloadAudio()},preloadAudio:function(){if(!this.hasAudio){this.audioPrepared=!0;return}var t=this._getHashPage();this.rawAudios=this.rawAudios.concat(this.rawAudios.splice(0,t)),this.totalDuration=this.rawAudios.reduce(function(e,t){return e+(t.duration||0)},0),this.processedAudio=new Array(this.rawAudios.length),this.oneByOnePreload(0)},oneByOnePreload:function(t){var n=this;if(t>=this.rawAudios.length)return;var r=this.rawAudios[t].url;r?this._getPlayableUrl(r).then(function(e){l.default.set(n.processedAudio,n.rawAudios[t].pageIndex,Object.assign({},n.rawAudios[t],{url:e})),n.processedDuration+=n.rawAudios[t].duration,!n.audioPrepared&&n.processedDuration>=n.totalDuration/2&&(n.audioPrepared=!0),n.oneByOnePreload(t+1)}):(l.default.set(this.processedAudio,this.rawAudios[t].pageIndex,Object.assign({},this.rawAudios[t])),this.oneByOnePreload(t+1))},_getPlayableUrl:function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){(0,i.blob2buffer)(r.response).then(function(t){var n=AMR.toWAV(t),r=new Blob([n],{type:"audio/wav"});e(window.URL.createObjectURL(r))})},r.send()})},revealReady:function(){d.default.configure({history:!0}),this.revealPrepared=!0,h.default.spyLinks()},revealToggle:function(t){t.type==="paused"&&this.autoplaying?this.pause():t.type==="resumed"&&this.resumable&&this.resume()},unveiled:function(){(0,i.removeLoader)().then(this.handleReady),o.default.add("tti")},handleReady:function(t){var n=this._getHashPage();this.pageIndex===n?this.play():(this.onceHashFlip=!0,this.pageIndex=n)},_getHashPage:function(){var t=location.hash;return Math.min(this.slide.pages.length-1,t?t.match(/#\/(\d+)/)?Number.parseInt(t.match(/#\/(\d+)/)[1],10):0:0)},next:function(){this.autoFlip=!0,this.pageIndex+1<this.slide.pages.length?d.default.slide(this.pageIndex+1):(this.stop(!0),this.autoFlip=!1)},handleSlideChange:function(t){this.pageIndex=t.indexh,this.pageIndex===10&&h.default.read("超过十页"),this.pageIndex+1===this.slide.pages.length&&h.default.read("完成")},handleFragmentBehavior:function(t){if(this.fragmentResting)return;if(this.autoFragmentBehavior){this.autoFragmentBehavior=!1;return}this.reset()},play:function(){if(!this.autoplayAble)return;this.autoFlip?(this.playCounter(),this.autoFlip=!1):this.hashFlip?this.startCounter():this.onceHashFlip?(this.startCounter(),this.onceHashFlip=!1):this.startCounter(),this.startPlayFragment(),this.startPlayAudio(),this.autoplaying=!0},pause:function(){this.pauseCounter(),this.stopPlayFragment(),this.pausePlayAudio(),this.autoplaying=!1,this.resumable=!0},resume:function(){this.resumeCounter(),this.resumePlayFragment(),this.resumePlayAudio(),this.autoplaying=!0,this.resumable=!1,d.default.isPaused()&&d.default.togglePause()},reset:function(){(this.resumable||this.needToReplay||this.autoplaying)&&this.stop()},stop:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;this.stopCounter(t),this.stopPlayFragment(),this.stopPlayAudio(),this.autoplaying=!1,this.resumable=!1,this.needToReplay=t},toggle:function(){var t=this;if(this.autoplaying)this.pause(),h.default.stopAutoPlay();else if(this.resumable)this.resume(),h.default.startAutoPlay();else if(this.needToReplay){d.default.slide(0);while(d.default.prevFragment());this.$nextTick(function(){t.play(),t.needToReplay=!1,h.default.startAutoPlay()})}else this.play(),h.default.startAutoPlay()},startCounter:function(){this.$refs.counter.run(this.pageDuration,!0)},playCounter:function(){this.$refs.counter.run(this.pageDuration,!1)},pauseCounter:function(){this.$refs.counter.pause()},resumeCounter:function(){this.$refs.counter.resume()},stopCounter:function(t){this.$refs.counter.stop(t)},startPlayFragment:function(){this.fragmentResting=!0;while(d.default.prevFragment());this.fragmentResting=!1,this.currentFragmentStrategy=(this.fragmentPlayStrategy[this.pageIndex]||[]).slice(),this._playFragment()},stopPlayFragment:function(){clearTimeout(this.currentFragmentTimer)},resumePlayFragment:function(){if(this.currentFragmentStrategy[0]){var t=this.$refs.counter,n=t.lastTime-t.remainTime,r=this.currentFragmentStrategy[0].time-n;this._playFragment(r)}},_playFragment:function(t){var n=this,r=this.currentFragmentStrategy[0];r&&(this.currentFragmentTimer=setTimeout(function(){d.default.availableFragments()[r.behavior]&&(n.autoFragmentBehavior=!0,d.default[r.behavior+"Fragment"]()),n.currentFragmentStrategy.shift(),n._playFragment()},t||r.interval))},startPlayAudio:function(){var t=this.processedAudio[this.pageIndex];this.hasAudio&&!t&&console.error("该页的录音未加载完毕啊哦");var n=this;if(this.hasAudio&&t&&t.url){var r=new XMLHttpRequest;r.open("GET",t.url,!0),r.responseType="blob",r.onload=function(e){var t=this.response,r=new FileReader;r.onload=function(e){n.$refs.audio.src=e.target.result,n.$refs.audio.play(),window.WeixinJSBridge&&WeixinJSBridge.invoke("getNetworkType",{},function(e){n.$refs.audio.play()})},r.readAsDataURL(t)},r.send()}},resumePlayAudio:function(){var t=this,n=this.processedAudio[this.pageIndex];this.hasAudio&&!n&&console.error("该页的录音未加载完毕啊哦"),this.hasAudio&&n&&n.url&&(this.$refs.audio.play(),window.WeixinJSBridge&&WeixinJSBridge.invoke("getNetworkType",{},function(e){t.$refs.audio.play()}))},pausePlayAudio:function(){var t=this.processedAudio[this.pageIndex];this.hasAudio&&!t&&console.error("该页的录音未加载完毕啊哦"),this.hasAudio&&t&&t.url&&this.$refs.audio.pause()},stopPlayAudio:function(){this.hasAudio&&(this.$refs.audio.pause(),this.$refs.audio.currentTime=0)}},watch:{pageIndex:function(t,n){this.autoplayAble&&(this.autoplaying?this.autoFlip||this.hashFlip||this.onceHashFlip?this.play():this.stop():this.reset())}}}},548:function(e,t,n){"use strict";var r=n(181),i=n.n(r),s=n(616),o=n.n(s),u=n(399),a=n.n(u),f=n(604),l=n.n(f),c=n(397),h=n(550),p=n(551),d=n(549),v=n(132),m=n(398),g=n(119);v["default"].register()},549:function(e,t,n){"use strict";var r=n(618),i=n.n(r),s=n(623),o=n.n(s)},550:function(e,t,n){"use strict";var r=n(619),i=n.n(r),s=n(624),o=n.n(s)},551:function(e,t,n){"use strict";var r=n(625),i=n.n(r),s=n(620),o=n.n(s)},571:function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},603:function(e,t){e.exports={_args:[["elliptic@6.3.2","/Users/verymuch/devspace/qiwoo_baomitu_chuandao"]],_development:!0,_from:"elliptic@6.3.2",_id:"elliptic@6.3.2",_inBundle:!1,_integrity:"sha1-5MgeCCnPCmWrcOmYuCMnI7XBvEg=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.3.2",name:"elliptic",escapedName:"elliptic",rawSpec:"6.3.2",saveSpec:null,fetchSpec:"6.3.2"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"http://registry.npm.taobao.org/elliptic/download/elliptic-6.3.2.tgz",_spec:"6.3.2",_where:"/Users/verymuch/devspace/qiwoo_baomitu_chuandao",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.3.2"}},604:function(e,t){},605:function(e,t){},606:function(e,t){},607:function(e,t){},608:function(e,t){},609:function(e,t){},610:function(e,t){},611:function(e,t){},612:function(e,t){},613:function(e,t){},614:function(e,t){},615:function(e,t){},616:function(e,t){},617:function(e,t){},618:function(e,t){},619:function(e,t){},620:function(e,t){},621:function(e,t){},623:function(e,t,n){e.exports=n.p+"/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/view/inc/page-browser-suggest/main.html"},624:function(e,t,n){e.exports=n.p+"/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/view/inc/page-footer/main.html"},625:function(e,t,n){e.exports=n.p+"/Users/verymuch/devspace/qiwoo_baomitu_chuandao/fesrc/view/inc/page-header/main.html"},633:function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},66:function(e,t,n){"use strict";function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t,n,r){typeof n!="function"&&(r=n,n=null);if(!h){var s=document.createElement("div");c=new i.a({el:s,data:function(){return{title:"",msg:t,mode:e,callback:n,pos:"center",posRelativeTo:null,maskStyles:{},bodyStyle:{}}},template:l,components:{VueDialog:o.a}}),h=c.$children[0]}return c.title="",c.msg=t,c.mode=e,c.callback=n,r?(c.posRelativeTo=r.posRelativeTo,c.pos=r.pos,window.dialog=h):(c.posRelativeTo=null,c.pos="center",c.maskStyles={},c.bodyStyle={}),h.$nextTick(function(){h.open()}),h}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=n.n(r),s=n(177),o=n.n(s),u=n(409),a=n.n(u);o.a.toast=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=document.querySelector(".Toast");n||(n=document.createElement("div"),document.body.appendChild(n)),n.innerHTML=a()(e);var r=t.classNames||[];n.className=["Toast"].concat(f(r)).join(" "),n.offsetWidth,n.classList.add("Toast--show")},o.a.alert=function(e,t,n){o.a.dialogVm=p("alert",e,t,n)},o.a.confirm=function(e,t,n){o.a.dialogVm=p("confirm",e,t,n)};var l='<vue-dialog :title="title" :msg="msg" :mode="mode"  :callback="callback" :pos="pos" :pos-relative-to="posRelativeTo" :mask-styles="maskStyles" :body-style="bodyStyle"></vue-dialog>',c=void 0,h=void 0;t["default"]=o.a},660:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("div",{staticClass:"PluginGroup Plugin","class":e.classes,style:e.styles})},staticRenderFns:[]},e.exports.render._withStripped=!0},661:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("plugin-base",[t("iframe",{staticClass:"PluginIframe--full",style:e.styles,attrs:{webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:"",sandbox:"allow-forms allow-scripts allow-popups allow-same-origin allow-pointer-lock",src:e.src,"data-src":e.dataSrc}})," ",e.source?e._e():t("div",{staticClass:"PluginIframe-placeholder","class":{"PluginIframe--httpsTips":e.httpsTips},style:e.styles},[e.httpsTips&&e.tipType==="editor"?t("p",{staticClass:"PluginIframe-tip"},["无法在编辑器中查看非https的网页"]):e._e()," ",e.httpsTips&&e.tipType==="guideRedirect"?t("p",{staticClass:"PluginIframe-tip"},["\n      此内容来源的协议为http，无法在https模式下显示。",t("br"),"如需观看，请跳转到http模式下。\n      ",t("br")," ",t("br")," ",t("button",{staticClass:"Button Button--accent",on:{click:e.gotoHttp}},["跳转"])]):e._e()])," ",e.type.match(/preview|present|display/)?e._e():t("div",{staticClass:"PluginIframe-blocker",on:{dblclick:e.dblclick}})," ",e.source&&e.blockInteraction?t("div",{directives:[{name:"gesture",rawName:"v-gesture:longtap",value:e.gotoIframe,expression:"gotoIframe",arg:"longtap"}],staticClass:"PluginIframe-blocker PluginIframe-blocker--noselect",on:{click:e.showLongtapHint}}):e._e()])},staticRenderFns:[]},e.exports.render._withStripped=!0},662:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("plugin-base",{staticClass:"PluginImage","class":{loading:e.element.src=="loading"||this.loading}},[t("div",{staticStyle:{height:"100%"},slot:e.slot},[t("i",{staticClass:"icon-pencil",on:{click:e.cutImage}})," ",t("img",{ref:"image",style:e.styles,attrs:{src:e.element.src},on:{click:e.reload,dblclick:e.dblclick}})," ",e.element.src=="loading"||this.loading?t("i",{staticClass:"icon-spin6 animate-spin"}):e._e()," ",t("image-croper",{ref:"pluginImageCroper"})])])},staticRenderFns:[]},e.exports.render._withStripped=!0},663:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("plugin-base",[t("pre",{staticClass:"PluginCode","class":e.classes,style:e.styles,on:{dblclick:e.dblclick}},[t("code",{ref:"code","class":e.language,domProps:{textContent:e._s(e.element.content)}})])])},staticRenderFns:[]},e.exports.render._withStripped=!0},664:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("div",{staticClass:"SlideCountdown-container"},[t("canvas",{ref:"canvas",staticClass:"SlideCountdown",attrs:{width:"50",height:"50"},on:{click:e.toggle}},["\n    Your browser does not support the canvas element.\n  "])])},staticRenderFns:[]},e.exports.render._withStripped=!0},665:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("plugin-base",{staticClass:"PluginLine",attrs:{bolder:e.bolder}},[t("div",{style:{color:e.element.stroke},slot:e.slot},[t("svg",e._b({ref:"svg",staticStyle:{overflow:"visible"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},"svg",e.svgAttr),[t("line",{attrs:{x1:e.element.x1,y1:e.element.y1,x2:e.element.x2,y2:e.element.y2,stroke:"currentColor","stroke-width":e.element.strokeWidth,"stroke-dasharray":e.strokeDasharray,"stroke-linecap":e.strokeLinecap}})," ",e._l([e.element.start,e.element.end],function(n,r){return[n===1?t("path",{staticStyle:{fill:"rgba(0,0,0,0)"},attrs:{"stroke-width":e.element.strokeWidth,stroke:"currentColor",transform:e.endpointPos[r],d:e.endpointSize[r]}}):e._e()," ",n===2?t("polygon",{attrs:{"stroke-width":e.element.strokeWidth,fill:"currentColor",transform:e.endpointPos[r],points:e.endpointSize[r]}}):e._e()," ",n===3?t("ellipse",{attrs:{rx:e.endpointSize[r],ry:e.endpointSize[r],cx:e.endpointPos[r][0],cy:e.endpointPos[r][1],"stroke-width":e.element.strokeWidth,fill:"currentColor"}}):e._e()," ",n===4?t("rect",{attrs:{width:2*e.endpointSize[r],height:2*e.endpointSize[r],x:-e.endpointSize[r],y:-e.endpointSize[r],transform:e.endpointPos[r],"stroke-width":e.element.strokeWidth,fill:"currentColor"}}):e._e()]})])," ",t("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.focused,expression:"selected || focused"}],staticClass:"PluginLine-anchor",style:e.fakeStartAnchorStyle})," ",t("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.focused,expression:"selected || focused"}],staticClass:"PluginLine-anchor",style:e.fakeEndAnchorStyle})," ",t("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.focused,expression:"selected || focused"}],ref:"startAnchor",staticClass:"PluginLine-anchor PluginLine-anchor--hidden",style:e.startAnchorStyle})," ",t("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.focused,expression:"selected || focused"}],ref:"endAnchor",staticClass:"PluginLine-anchor PluginLine-anchor--hidden",style:e.endAnchorStyle})])])},staticRenderFns:[]},e.exports.render._withStripped=!0},666:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("div",[t("slide-countdown",{directives:[{name:"show",rawName:"v-show",value:e.autoplayAble,expression:"autoplayAble"}],ref:"counter",staticClass:"PageDisplay-counter",attrs:{"background-fill":e.countdownStyle.backgroundFill,"background-stroke":e.countdownStyle.backgroundStroke}})," ",t("audio",{ref:"audio"})])},staticRenderFns:[]},e.exports.render._withStripped=!0},667:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("plugin-base",{staticClass:"PluginText"},[t("div",{ref:"textarea",domProps:{innerHTML:e._s(e.text)}})])},staticRenderFns:[]},e.exports.render._withStripped=!0},668:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("section",{staticClass:"PluginPage",style:e.styles,attrs:{"data-background-color":e.page["background-color"],"data-background-size":e.page["background-size"],"data-background-image":e.page["background-image"]}},[e._l(e.page.groups,function(n){return[e.type.match(/editing|fragment/)?t("plugin-group",{attrs:{"page-index":e.pageIndex,group:n,type:e.type}}):e._e()]})," ",e._l(e.page.elements,function(n,r){return[n.type=="plugin-text"?[t("plugin-text",{attrs:{"page-index":e.pageIndex,"element-index":r,element:n,type:e.type}})]:e._e()," ",n.type=="plugin-image"?[t("plugin-image",{attrs:{"page-index":e.pageIndex,"element-index":r,element:n,type:e.type}})]:e._e()," ",n.type=="plugin-shape"?[t("plugin-shape",{attrs:{"page-index":e.pageIndex,"element-index":r,element:n,type:e.type}})]:e._e()," ",n.type=="plugin-line"?[t("plugin-line",{attrs:{"page-index":e.pageIndex,"element-index":r,element:n,type:e.type}})]:e._e()," ",n.type=="plugin-code"?[t("plugin-code",{attrs:{"page-index":e.pageIndex,"element-index":r,element:n,type:e.type}})]:e._e()," ",n.type=="plugin-iframe"?[t("plugin-iframe",{attrs:{"page-index":e.pageIndex,"element-index":r,element:n,type:e.type}})]:e._e()," ",n.type=="plugin-table"?[t("plugin-table",{attrs:{"page-index":e.pageIndex,"element-index":r,element:n,type:e.type}})]:e._e()]})," ",e.page.notes?t("aside",{staticClass:"notes",domProps:{textContent:e._s(e.page.notes)}}):e._e()," ",e.type==="order"?t("div",{staticClass:"PluginPage-order",on:{click:e.backToEditing}},[t("i",{staticClass:"icon-left-circled PluginPage-moveto-left",attrs:{"data-direction":"left"},on:{click:e.move}})," ",t("i",{staticClass:"icon-right-circled PluginPage-moveto-right",attrs:{"data-direction":"right"},on:{click:e.move}})]):e._e()])},staticRenderFns:[]},e.exports.render._withStripped=!0},669:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("plugin-base",[t("table",{staticClass:"PluginTable"},[t("tbody",[e._l(e.element.content,function(n,r){return r<e.element.row?t("tr",{ref:"row-"+r,refInFor:!0,style:e.rowStyle(r)},[e._l(n,function(n,i){return i<e.element.column?[e.element.header&&r===0?t("th",{style:e.realCellStyle({index:i,rowIndex:r}),domProps:{innerHTML:e._s(e.xss(n))}}):e._e()," ",!e.element.header||r!==0?t("td",{style:e.realCellStyle({index:i,rowIndex:r}),domProps:{innerHTML:e._s(e.xss(n))}}):e._e()]:e._e()})]):e._e()})])])," ",e.type==="editing"?t("div",{staticStyle:{position:"absolute",top:"0",left:"0",height:"100%"}},[e._l(e.helper,function(n,r){return[t("div",{staticClass:"PluginTable-helper",style:n,attrs:{"data-index":r},on:{mousedown:e.helperMouseDown}})]})]):e._e()])},staticRenderFns:[]},e.exports.render._withStripped=!0},670:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("div",{staticClass:"Plugin","class":e.classes,style:e.styles,attrs:{"data-fragment-index":e.fragment&&e.fragment.index,"data-animation-type":e.animationType}},[e.link&&e.pretype?t("a",{staticStyle:{display:"block",width:"100%",height:"100%"},attrs:{href:e.element.link,target:"_blank",rel:"noopener noreferrer"}},[e._t("link",["it should be a link here"])]):e._e()," ",!e.link||!e.pretype?e._t("normal",[e._t("default")]):e._e()])},staticRenderFns:[]},e.exports.render._withStripped=!0},671:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("plugin-base",[t("div",{staticClass:"PluginShape",domProps:{innerHTML:e._s(e.code)},on:{dblclick:e.dblclick},slot:e.slot})])},staticRenderFns:[]},e.exports.render._withStripped=!0},672:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return t("div",{staticClass:"PluginSlide","class":e.classes},[t("div",{directives:[{name:"gesture",rawName:"v-gesture:horizontal-swipe",value:e.swipeHandler,expression:"swipeHandler",arg:"horizontal-swipe"}],staticClass:"reveal",style:e.thumbnailStyle},[t("div",{ref:"pagesPanel",staticClass:"slides"},[e._l(e.slide.pages,function(n,r){return[t("plugin-page",{key:n.id,ref:"page",refInFor:!0,attrs:{"page-index":r,page:n,type:e.type}})]})])])])},staticRenderFns:[]},e.exports.render._withStripped=!0},677:function(e,t){},678:function(e,t){},69:function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();r.inBrowser&&!window.localStorage&&Object.defineProperty(window,"localStorage",new function(){var e=[],t={};Object.defineProperty(t,"getItem",{value:function(t){return t?this[t]:null},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"key",{value:function(n){return e[n]},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"setItem",{value:function(t,n){if(!t)return;document.cookie=escape(t)+"="+escape(n)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),Object.defineProperty(t,"removeItem",{value:function(t){if(!t)return;document.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},writable:!1,configurable:!1,enumerable:!1}),this.get=function(){var n=void 0;for(var r in t)n=e.indexOf(r),n===-1?t.setItem(r,t[r]):e.splice(n,1),delete t[r];for(e;e.length>0;e.splice(0,1))t.removeItem(e[0]);for(var i,s,o=0,u=document.cookie.split(/\s*;\s*/);o<u.length;o++)i=u[o].split(/\s*=\s*/),i.length>1&&(t[s=unescape(i[0])]=unescape(i[1]),e.push(s));return t},this.configurable=!1,this.enumerable=!0});var o=function(){function e(){s(this,e)}return i(e,[{key:"setSlide",value:function(t,n,r){this.wrap({key:"slide-"+n,data:Object.assign({},t,{user_name:r})})}},{key:"getSlide",value:function(t,i){var s=this.unpack({key:"slide-"+t,parse:!0});return!n.i(r.isObject)(s)||s.user_name!==i&&s.user_name!=="noLogin"?{}:s}},{key:"delSlide",value:function(t){this._delItem("slide-"+t)}},{key:"wrap",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=t.key,s=t.data,o=t.expire;n.i(r.isString)(s)||(s=JSON.stringify(s)),n.i(r.isNumeric)(o)?o=Date.now()+o:o=Date.now()+2592e6;var u=JSON.stringify({data:s,expire:o,lastUpdate:Date.now()});this._setItem(i,u)||this._setItem(i,u)}},{key:"unpack",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.key,r=t.parse,i=t.expire,s=i===undefined?!0:i,o=window.localStorage.getItem(n);try{if(!o)return;try{o=JSON.parse(o)}catch(u){throw new Error(n+"数据遭到破坏，无法解析"+u)}if(s&&Date.now()>o.expire)throw new Error(n+"本地存储已过期。"+Date.now()-o.expire);return r&&(o.data=JSON.parse(o.data)),o.data}catch(u){console.error(u),window.localStorage.removeItem(n)}}},{key:"_delItem",value:function(t){window.localStorage.removeItem(t)}},{key:"_setItem",value:function(t,n){try{return window.localStorage.setItem(t,n),!0}catch(r){return console.error(r),this._clear(),!1}}},{key:"_clear",value:function(){var t=!0,i=window.localStorage.length;for(var s=0;s<i;s++){var o=window.localStorage.key(s);if(o==="spectrum")continue;var u=window.localStorage.getItem(o);if(!n.i(r.isString)(u))t=!1,window.localStorage.removeItem(o);else{var a=void 0;try{a=JSON.parse(u)}catch(f){t=!1,window.localStorage.removeItem(o);continue}if(!a.expire||a.expire<Date.now())t=!1,window.localStorage.removeItem(o)}}t&&window.localStorage.clear()}},{key:"pageBackgroundSize",set:function(t){this.wrap({key:"page-background-size",data:t})},get:function(){var t=this.unpack({key:"page-background-size"});return!t||!t.match(/^cover|contain|initial$/)?"cover":t}},{key:"lineEndPoint",set:function(t){this.wrap({key:"line-end-point",data:t})},get:function(){var t=this.unpack({key:"line-end-point",parse:!0});return n.i(r.isEmpty)(t)?{start:0,end:0}:t}},{key:"veteran",set:function(t){this.wrap({key:"veteran",data:t})},get:function(){return this.unpack({key:"veteran",expire:!1})}},{key:"introduction",set:function(t){this.wrap({key:"introduction",data:t})},get:function(){return this.unpack({key:"introduction",parse:!0,expire:!1})}},{key:"version",set:function(t){this.wrap({key:"version",data:t})},get:function(){return this.unpack({key:"version",expire:!1})}},{key:"tourRoute",set:function(t){this.wrap({key:"tour-route",data:t})},get:function(){return this.unpack({key:"tour-route",expire:!1,parse:!0})||{}}},{key:"tempid",get:function(){var t=this.unpack({key:"tempid",expire:!1});if(t)return t;t=n.i(r.uuid)(),this.wrap({key:"tempid",data:t})}},{key:"chooseInGroup",set:function(t){this.wrap({key:"choose-in-group",data:t,expire:6048e5})},get:function(){return window._knewHowToChooseInGroup||(window._knewHowToChooseInGroup=this.unpack({key:"choose-in-group"})),window._knewHowToChooseInGroup}}]),e}();t["default"]=new o},723:function(e,t){},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(69),s=n(54),o=n(132),u=n(13);n.d(t,"audio",function(){return l}),n.d(t,"slide",function(){return c}),n.d(t,"image",function(){return h}),n.d(t,"shape",function(){return p}),n.d(t,"template",function(){return d}),n.d(t,"exporter",function(){return v});var a={};if(r.inBrowser){var f=n(115).default;a=new f({tipFn:function(t){return u["default"].$emit("tips-error",{tips:t})}})}var l={upload:function(t){return a.FORMDATA("/api/audio/upload",t)}},c={add:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=arguments[1],s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",o=arguments[3];return n.i(r.isString)(t)||(t=JSON.stringify(t)),a.POST("/api/slide/add",{slide_config:t,slide_title:i,slide_desc:s,slide_autoplay_interval:o})},copy:function(t){return a.POST("/api/slide/copy",{slide_id:t})},detail:function(t){return r.inBrowser&&!n.i(r.isEmpty)(window.SD.slide)?Promise.resolve(n.i(r.deepClone)(window.SD.slide)):a.GET("/api/slide/detail",{slide_id:t})},save:function(t,i,s){if(!n.i(r.isString)(t))return Promise.reject(!1);n.i(r.isString)(i)||(i=JSON.stringify(i));var u={slide_id:t,slide_config:i},f="/api/slide/update";return navigator.onLine?a.POST(f,u):(o["default"].backgroundSyncAble()&&s&&o["default"].POST({path:f,param:u,id:f+t,notice:s}),Promise.reject(new Error("offline")))},updateInfo:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"noLogin",u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},f=arguments[2];if(!u.slide_info_version)throw new Error("updateInfo接口必须包含版本信息");var l=i["default"].getSlide(t,s.user_name);Object.assign(l,u),i["default"].setSlide(l,t,s.user_name);if(!s.isLogin||t==="noLogin")return Promise.resolve({errno:0});if(!n.i(r.isString)(t))return Promise.reject(!1);u.slide_id=t;var c="/api/slide/update";return navigator.onLine?a.POST(c,u):(o["default"].backgroundSyncAble()&&o["default"].POST({path:c,param:u,id:c+t,notice:f}),Promise.reject(new Error("offline")))},updateMark:function(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return n.i(r.isString)(t)?(i.slide_id=t,navigator.onLine?a.POST("/api/slide/update",i):Promise.reject(new Error("offline"))):Promise.reject(!1)},list:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return a.GET("/api/slide/list",{page:t,epage:n})},"delete":function(t){return navigator.onLine?a.POST("/api/slide/delete",{slide_id:t}):Promise.reject(new Error("offline"))},publicList:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=t.user_name,s=t.page,o=s===undefined?1:s,u=t.epage,f=u===undefined?20:u,l=t.cache,c=l===undefined?!1:l;if(c&&r.inBrowser&&!n.i(r.isEmpty)(window.SD.slides)&&!n.i(r.isEmpty)(window.SD.author)){var h=window.SD.slides,p=window.SD.author;if(parseInt(h.currentPage,10)===o&&parseInt(h.numsPerPage,10)===f&&(i===p.user_name||!i))return Promise.resolve(h)}return i=i||r.inBrowser&&window.SD.myself&&window.SD.myself.user_name,a.GET("/api/slide/publiclist",{user_name:i,page:o,epage:f})},hotlist:function(){return a.GET("/api/slide/hotlist")}},h={add:function(t){return a.FORMDATA("/api/image/add",t)},addByUrl:function(t){return a.POST("/api/image/addbyurl",{url:t})},del:function(t){return navigator.onLine?a.POST("/api/image/delete",{id:t}):Promise.reject(new Error("offline"))},list:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return a.GET("/api/image/list",{page:t,epage:n})},upload:function(t){return a.FORMDATA("/api/image/upload",t)}},p={publiclist:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return a.GET("/api/shape/publiclist",{page:t,epage:n})}},d={add:function(t){return a.FORMDATA("/api/template/add",t)},del:function(t){return navigator.onLine?a.POST("/api/template/delete",{id:t}):Promise.reject(new Error("offline"))},list:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return a.GET("/api/template/list",{page:t,epage:n})},publiclist:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return a.GET("/api/template/publiclist",{page:t,epage:n})}},v={canExportZip:function(){return navigator.onLine?a.GET("/api/slide/canexportzip"):Promise.reject(new Error("offline"))}};t["default"]={api:{audio:l,image:h,shape:p,slide:c,template:d}}},892:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=o(r),s=n(429);t.default={props:{slide:{type:Object},tag:{type:String}},data:function(){return{tagMap:{copy:"副本",importWaiting:"排队中",importProcessing:"导入中",importError:"导入失败"},slidePermissionType:s.slidePermissionType}},computed:{tagContent:function(){return this.tagMap[this.tag]},tagBgColor:function(){return"InfoCard-tag--"+this.tag},permissionHint:function(){switch(parseInt(this.slide.slide_permission,10)){case 1:return"仅为自己可见";case 2:return"分享需要密码";default:return!1}}},methods:{jumpToDisplay:function(){window.open("/d/"+this.slide.slide_id)},shareSlide:function(t){i.default.$emit("open-resource-share",t.slide_id)}}}},893:function(e,t,n){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=f(r),s=n(13),o=f(s),u=n(75);n(1232);var a=n(5),l=void 0;if(a.inBrowser){var c=n(86);l=n(976),window.jQuery=window.jQuery||c,window.$=window.$||c}t.default={props:{cropWidth:{type:Number},cropHeight:{type:Number},cropType:{"default":"jpeg",type:String}},data:function(){return{callback:function(){},cropImage:{src:undefined,sourceFile:null,originHeight:undefined,originWidth:undefined,preWidth:undefined,preHeight:undefined,boundx:undefined,boundy:undefined,result:undefined,resultSrc:undefined},jcroper:undefined,isLoading:!1,uploadSuccess:!1,uploadFail:!1,unwatchDialogClose:null,fromEditor:!1}},methods:{showImageCroper:function(t){this.cropImage.sourceFile=t.src?t.src:t.file,this.fromEditor=t.src?!0:!1,this.callback=t.callback,this.crop().then(this.callback)},crop:function(){var t=this;return new Promise(function(e,n){(t.fromEditor||t.validateFile(t.cropImage.sourceFile))&&t.getFileInfo(t.cropImage.sourceFile).then(function(){t.openCropDialog(),t.unwatchGetResultSrc=t.$watch(function(){return t.cropImage.resultSrc},function(n){setTimeout(function(){t.cancel(),e(n)},300)})})})},cancel:function(){this.cropImage.resultSrc=undefined,this.unwatchGetResultSrc(),this.$refs.dialog.close(),this.jcroper.destroy()},confirm:function(){var t=this,n=this.jcroper.tellSelect(),r=Math.min(this.cropImage.boundx,this.cropImage.boundy),i=this.cropWidth&&this.cropHeight?this.cropWidth/this.cropHeight:undefined,s=this.cropWidth?r*i:this.cropImage.boundx,o=this.cropHeight?r/i:this.cropImage.boundy;n.x=n.w===0||n.h===0?0:n.x,n.y=n.w===0||n.h===0?0:n.y,n.w=n.w===0?s:n.w,n.h=n.h===0?o:n.h,this.cutImage(n.x,n.y,n.w,n.h,this.cropImage.src).then(function(e){var n=t.cropImage.sourceFile.name?t.cropImage.sourceFile.name:"image.png";t.cropImage.result=new FormData,t.cropImage.result.append("file",e,n),t.uploadImage().then(function(e){t.cropImage.resultSrc=e})})},cutImage:function(t,n,r,i,s){var o=this;return new Promise(function(e){var u=o.cropWidth?o.cropWidth:r,f=o.cropHeight?o.cropHeight:i,l=$('<canvas width="'+u+'" height="'+f+'"></canvas>')[0],c=l.getContext("2d");c.fillStyle="white",c.fillRect(0,0,u,f);var h=new Image;h.crossOrigin="Anonymous",h.onload=function(){c.drawImage(h,t,n,r,i,0,0,u,f);var s=l.toDataURL("image/"+o.cropType);e((0,a.dataurl2blob)(s,"image/"+o.cropType))},h.src=s})},getFileInfo:function(t){var n=this;return new Promise(function(e){var r=new FileReader,i=new Image;n.fromEditor?(i.src=t,i.onload=function(){n.cropImage.originHeight=i.height,n.cropImage.originWidth=i.width,n.cropImage.src=t,e()}):(r.readAsDataURL(t),r.onload=function(r){var s=r.target.result;i.src=s,i.onload=function(){n.cropImage.originHeight=i.height,n.cropImage.originWidth=i.width,n.cropImage.src=window.URL.createObjectURL(t),e()}})})},getProperImageSize:function(t,n){var r=400;n>r&&(t=r*t/n,n=r),t>r&&(n=r*n/t,t=r),this.cropImage.preWidth=t,this.cropImage.preHeight=n},openCropDialog:function(){var t=this,n=this;this.resetUploadState(),this.getProperImageSize(this.cropImage.originWidth,this.cropImage.originHeight),this.$nextTick(function(){$(t.$refs.cropImageHolder).Jcrop({aspectRatio:t.cropHeight&&t.cropWidth?n.cropWidth/n.cropHeight:undefined,bgOpacity:.5,bgColor:"white",bgFade:!0,trueSize:[n.cropImage.originWidth,n.cropImage.originHeight],onChange:t.cropHeight&&t.cropWidth?n.updatePreview:null,onSelect:t.cropHeight&&t.cropWidth?n.updatePreview:null},function(){var e=this.getBounds();n.cropImage.boundx=e[0],n.cropImage.boundy=e[1];var t=Math.min(e[0],e[1]);if(n.cropHeight&&n.cropWidth){var r=n.cropWidth/n.cropHeight;this.setSelect([0,0,t/r,t*r])}n.jcroper=this}),t.$refs.dialog.open()})},resetUploadState:function(){this.uploadSuccess=!1,this.uploadFail=!1},updatePreview:function(t){if(parseInt(t.w)>0){var n=100/t.w,r=100/(this.cropWidth/this.cropHeight)/t.h;$(".CropImage-preview img").css({width:n*this.cropImage.boundx+"px",height:r*this.cropImage.boundy+"px",marginLeft:"-"+n*t.x+"px",marginTop:"-"+r*t.y+"px"})}},uploadImage:function(){var t=this;return new Promise(function(e,n){t.isLoading=!0,t.resetUploadState(),u.image.upload(t.cropImage.result).then(function(n){t.isLoading=!1,t.uploadSuccess=!0,e(n.image_url)},function(e){t.isLoading=!1,t.uploadFail=!0})})},validateFile:function(t){if(!t)return;if(t.type.match(/(?!.*jpeg|.*jpg|.*png|.*webp)^.*$/)){i.default.alert("只接受jpg/jpeg/png/webp格式的图片，请重新上传");return}if(t.size>2097152){i.default.alert("不要上传超过2m的图片");return}return!0}}}},958:function(e,t,n){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=f(r),s=n(443),o=f(s),u=n(401),a=n(429),l=new o.default;t.default={serverCacheKey:function(){return"resource-share"},data:function(){return{locationOrigin:"",slide_id:undefined,tab:"link",clipBoard:null,iframeConfig:{width:576,height:420,bottomStyle:"dark"},shareCode:undefined,isCopied:!1,isPublic:undefined}},computed:{shareLink:function(){return this.locationOrigin+"/d/"+this.slide_id},shareIframe:function(){return'<iframe src="'+this.locationOrigin+"/embed/"+this.slide_id+"?style="+this.iframeConfig.bottomStyle+'" width="'+this.iframeConfig.width+'" height="'+this.iframeConfig.height+'" scrolling="no" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'},shareContent:function(){return this.isPublic?this.shareLink:"链接地址："+this.shareLink+"，提取密码："+this.shareCode},copyBtnText:function(){return this.isCopied?"已复制":"复制"}},created:function(){i.default.$on("open-resource-share",this.open),i.default.$on("close-resource-share",this.close)},mounted:function(){this.locationOrigin=window.location.origin;var t=n(687);this.clipBoard=new t(".copyBtn")},beforeDestroy:function(){i.default.$off("open-resource-share",this.open),i.default.$off("close-resource-share",this.close)},methods:{close:function(){this.$refs.dialog.close(),this.clipBoard.off("success",this.copySuccess)},open:function(t){var n=this,r=parseInt(t.slide_permission,10);this.slide_id=t.slide_id,this.init(),this.clipBoard.on("success",this.copySuccess),this.isPublic=r===a.slidePermissionType.PUBLIC,r===a.slidePermissionType.NEED_CODE&&this.getShareCode(this.slide_id),this.$nextTick(function(){n.$refs.dialog.open()}),l.resourceShare()},selectText:function(t){t.target.select()},toggleTab:function(t){this.tab!==t&&(this.tab=t,this.isCopied=!1)},copySuccess:function(){this.isCopied=!0,l.resourceShare(!0)},getShareCode:function(t){var n=this;u.share.getcode(t).then(function(e){n.shareCode=e})},init:function(){this.isCopied=!1,this.tab="link",this.shareCode=""}}}},97:function(e,t,n){"use strict";var r=n(548),i=n(436)}});